# å¼ºåˆ¶æœ¬åœ°æµ‹è¯•ç³»ç»Ÿ - æ¶æ„è®¾è®¡

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Cursor AI å¼ºåˆ¶æœ¬åœ°æµ‹è¯•ç³»ç»Ÿ                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Cursor    â”‚â”€â”€â”€â–¶â”‚  Git Guard   â”‚â”€â”€â”€â–¶â”‚  Local Tests    â”‚    â”‚
â”‚  â”‚             â”‚    â”‚ Interceptor  â”‚    â”‚   Validator     â”‚    â”‚
â”‚  â”‚ git push... â”‚    â”‚              â”‚    â”‚                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚         â”‚                    â”‚                     â”‚            â”‚
â”‚         â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚            â”‚
â”‚         â”‚            â”‚   Passport      â”‚          â”‚            â”‚
â”‚         â”‚            â”‚   Validator     â”‚          â”‚            â”‚
â”‚         â”‚            â”‚                 â”‚          â”‚            â”‚
â”‚         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚            â”‚
â”‚         â”‚                    â”‚                     â”‚            â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                         Allow Push                              â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        éªŒè¯å±‚æ¶æ„                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Layer 1: Syntax    â”‚  Layer 2: Environment â”‚  Layer 3: Function â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ GitHub Actions  â”‚ â”‚  â”‚ Docker Compose    â”‚ â”‚ â”‚ CI/CD        â”‚ â”‚
â”‚  â”‚ Syntax Check    â”‚ â”‚  â”‚ Configuration     â”‚ â”‚ â”‚ Simulation   â”‚ â”‚
â”‚  â”‚ (act)           â”‚ â”‚  â”‚ Validation        â”‚ â”‚ â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                      â”‚                        â”‚                  â”‚
â”‚  Layer 4: Diff Check                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Environment Configuration Differences Analysis              â”‚ â”‚
â”‚  â”‚ Cross-Platform Compatibility Validation                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æ ¸å¿ƒè®¾è®¡åŸç†

### 1. æ‹¦æˆªå™¨æ¨¡å¼ (Interceptor Pattern)

```
User Input â†’ Interceptor â†’ Validation â†’ Action/Block
```

**è®¾è®¡æ€è·¯**:

- åœ¨Gitå‘½ä»¤æ‰§è¡Œå‰è¿›è¡Œæ‹¦æˆª
- é€æ˜ä»£ç†æ‰€æœ‰gitæ“ä½œ
- åªå¯¹æ¨é€æ“ä½œè¿›è¡Œé¢å¤–éªŒè¯

**å®ç°æ–¹å¼**:

```bash
# é€šè¿‡PATHä¼˜å…ˆçº§æˆ–åˆ«åæœºåˆ¶
alias git='bash scripts/git-guard.sh'
```

### 2. é€šè¡Œè¯æœºåˆ¶ (Passport System)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Generate  â”‚â”€â”€â”€â–¶â”‚   Validate  â”‚â”€â”€â”€â–¶â”‚    Allow    â”‚
â”‚  Passport   â”‚    â”‚  Passport   â”‚    â”‚    Push     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                    â”‚                    â”‚
      â–¼                    â–¼                    â–¼
  Four Layer         Check Expiry         Git Push
  Validation         & Code Hash          Execution
```

**æ ¸å¿ƒç‰¹æ€§**:

- **æ—¶æ•ˆæ€§**: 1å°æ—¶æœ‰æ•ˆæœŸï¼Œé˜²æ­¢è¿‡æ—¶ä»£ç æ¨é€
- **å”¯ä¸€æ€§**: åŸºäºGitçŠ¶æ€å“ˆå¸Œï¼Œä»£ç å˜æ›´è‡ªåŠ¨å¤±æ•ˆ
- **å®‰å…¨æ€§**: åŠ å¯†ç­¾åï¼Œé˜²æ­¢ä¼ªé€ 
- **å¯è¿½æº¯**: å®Œæ•´æ—¥å¿—è®°å½•

### 3. å››å±‚éªŒè¯æ¶æ„ (Four-Layer Validation)

```
Layer 1: Syntax Validation
â”œâ”€ act (GitHub Actions syntax)
â”œâ”€ YAML/JSON format check
â””â”€ Workflow file validation

Layer 2: Environment Validation
â”œâ”€ Docker service status
â”œâ”€ docker-compose configuration
â”œâ”€ Service dependencies check
â””â”€ Resource availability

Layer 3: Functional Validation
â”œâ”€ Backend unit tests
â”œâ”€ Frontend unit tests
â”œâ”€ Integration tests
â””â”€ E2E tests (optional)

Layer 4: Differential Validation
â”œâ”€ Configuration file differences
â”œâ”€ Environment-specific settings
â”œâ”€ Cross-platform compatibility
â””â”€ npm workspaces structure
```

## ğŸ”„ æ•°æ®æµå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Code Change â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ git push... â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    NO     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Passport    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Run Local   â”‚
â”‚ Valid?      â”‚           â”‚ Tests       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚YES                      â”‚
       â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Allow Push  â”‚           â”‚ Generate    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ Passport    â”‚
                          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚ Allow Push  â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ›¡ï¸ å®‰å…¨æœºåˆ¶è®¾è®¡

### 1. å¤šé‡é˜²æŠ¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Security Layers          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Git Command Interception        â”‚
â”‚    â”œâ”€ --no-verify blocking         â”‚
â”‚    â”œâ”€ --force push blocking        â”‚
â”‚    â””â”€ Protected branch blocking    â”‚
â”‚                                    â”‚
â”‚ 2. Passport Validation            â”‚
â”‚    â”œâ”€ Cryptographic signature     â”‚
â”‚    â”œâ”€ Timestamp verification      â”‚
â”‚    â””â”€ Git state hash matching     â”‚
â”‚                                    â”‚
â”‚ 3. Emergency Bypass               â”‚
â”‚    â”œâ”€ Environment variable        â”‚
â”‚    â”œâ”€ Confirmation code           â”‚
â”‚    â””â”€ Complete audit logging      â”‚
â”‚                                    â”‚
â”‚ 4. Audit Trail                   â”‚
â”‚    â”œâ”€ All operations logged       â”‚
â”‚    â”œâ”€ Bypass attempts recorded    â”‚
â”‚    â””â”€ Performance metrics         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. å¤±æ•ˆæœºåˆ¶

```python
# é€šè¡Œè¯å¤±æ•ˆæ¡ä»¶
def is_passport_invalid():
    conditions = [
        current_time > expire_time,     # æ—¶é—´è¿‡æœŸ
        git_hash != stored_hash,        # ä»£ç å˜æ›´
        signature_invalid(),            # ç­¾åä¸åŒ¹é…
        file_corrupted()               # æ–‡ä»¶æŸå
    ]
    return any(conditions)
```

## ğŸ”— ç»„ä»¶äº¤äº’å…³ç³»

### 1. æ ¸å¿ƒç»„ä»¶å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Git Guard      â”‚
â”‚  (Interceptor)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Passport        â”‚â—„â”€â”€â–¶â”‚ One-Click Test  â”‚
â”‚ Generator       â”‚    â”‚ Script          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Local Test      â”‚    â”‚ Validation      â”‚
â”‚ Simulation      â”‚    â”‚ Layers          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ–‡ä»¶ä¾èµ–å…³ç³»

```
scripts/
â”œâ”€â”€ git-guard.sh                 # ä¸»æ‹¦æˆªå™¨
â”‚   â”œâ”€â”€ calls: local_test_passport.py
â”‚   â””â”€â”€ logs: git-no-verify-attempts.log
â”‚
â”œâ”€â”€ local_test_passport.py       # é€šè¡Œè¯ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ calls: one_click_test.sh (optional)
â”‚   â””â”€â”€ generates: .git/local_test_passport.json
â”‚
â”œâ”€â”€ one_click_test.sh           # ä¸€é”®æµ‹è¯•
â”‚   â”œâ”€â”€ calls: act, docker-compose
â”‚   â”œâ”€â”€ calls: run_github_actions_simulation.sh
â”‚   â””â”€â”€ calls: local_test_passport.py
â”‚
â””â”€â”€ setup_cursor_protection.sh  # è‡ªåŠ¨éƒ¨ç½²
    â”œâ”€â”€ configures: git aliases
    â”œâ”€â”€ creates: convenience commands
    â””â”€â”€ generates: .vscode/tasks.json
```

## ğŸ“Š æ€§èƒ½è®¾è®¡è€ƒè™‘

### 1. ç¼“å­˜æœºåˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Performance     â”‚
â”‚ Optimizations   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ Passport      â”‚
â”‚   Caching       â”‚
â”‚ âœ“ Docker        â”‚
â”‚   Container     â”‚
â”‚   Reuse         â”‚
â”‚ âœ“ Incremental   â”‚
â”‚   Validation    â”‚
â”‚ âœ“ Fast/Full     â”‚
â”‚   Test Modes    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ‰§è¡Œæ—¶é—´ä¼˜åŒ–

```
Fast Mode (1-2 minutes):
â”œâ”€ Syntax validation only
â”œâ”€ Basic environment check
â”œâ”€ Quick function tests
â””â”€ Essential validations

Full Mode (5-10 minutes):
â”œâ”€ Complete CI simulation
â”œâ”€ All test suites
â”œâ”€ Comprehensive checks
â””â”€ Full validation suite
```

## ğŸ”§ æ‰©å±•æ€§è®¾è®¡

### 1. æ’ä»¶æ¶æ„

```python
class ValidationPlugin:
    def validate(self) -> bool:
        pass

    def get_name(self) -> str:
        pass

# æ”¯æŒè‡ªå®šä¹‰éªŒè¯æ’ä»¶
custom_plugins = [
    SecurityScanPlugin(),
    PerformanceTestPlugin(),
    CodeQualityPlugin()
]
```

### 2. é…ç½®åŒ–è®¾è®¡

```json
{
  "validation_config": {
    "enabled_layers": ["syntax", "environment", "functional", "differential"],
    "passport_expiry_hours": 1,
    "fast_mode_timeout": 120,
    "full_mode_timeout": 600,
    "bypass_emergency_code": "EMERGENCY_PUSH_BYPASS_2024"
  }
}
```

## ğŸš€ éƒ¨ç½²æ¶æ„

### 1. è‡ªåŠ¨éƒ¨ç½²æµç¨‹

```
git clone â†’ setup script â†’ auto configure â†’ ready to use
     â”‚            â”‚               â”‚              â”‚
     â–¼            â–¼               â–¼              â–¼
Repository  Protection       Git Aliases   Start Working
   Setup      System         & Commands     Immediately
```

### 2. è·¨å›¢é˜ŸåŒæ­¥

```
Team Member A                Team Member B
     â”‚                            â”‚
     â–¼                            â–¼
Install System              git pull + setup
     â”‚                            â”‚
     â–¼                            â–¼
Push with Tests â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Auto Deploy
     â”‚                            â”‚
     â–¼                            â–¼
Same Experience             Consistent Flow
```

---

**æ¶æ„è®¾è®¡åŸåˆ™**:

- **ç®€å•æ€§**: å¤æ‚é€»è¾‘å†…éƒ¨åŒ–ï¼Œç”¨æˆ·æ¥å£ç®€å•
- **å¯é æ€§**: å¤šé‡é˜²æŠ¤ï¼Œå¤±è´¥æ—¶æœ‰æ˜ç¡®åé¦ˆ
- **å¯ç»´æŠ¤æ€§**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ¸…æ™°çš„èŒè´£åˆ†ç¦»
- **å¯æ‰©å±•æ€§**: æ’ä»¶åŒ–æ¶æ„ï¼Œæ”¯æŒè‡ªå®šä¹‰æ‰©å±•
