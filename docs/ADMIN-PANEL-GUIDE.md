# Djangoç®¡ç†åå°ä½¿ç”¨æŒ‡å—

> **è®¿é—®åœ°å€**: http://localhost:8000/admin/
> **é»˜è®¤ç®¡ç†å‘˜**: admin / admin123

---

## ğŸ” ç™»å½•ç®¡ç†åå°

### è®¿é—®åœ°å€

- **æœ¬åœ°å¼€å‘**: http://localhost:8000/admin/
- **Dockerç¯å¢ƒ**: http://localhost:8000/admin/

### é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·

- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin123`
- **é‚®ç®±**: `admin@bravo.com`

### é¦–æ¬¡ç™»å½•

1. è®¿é—® http://localhost:8000/admin/
2. ä½¿ç”¨é»˜è®¤è´¦æˆ·ç™»å½•
3. **å»ºè®®**: ç™»å½•åç«‹å³ä¿®æ”¹å¯†ç 

---

## ğŸ‘¥ ç”¨æˆ·ç®¡ç†

### æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨

åœ¨ç®¡ç†åå°ä¸­ï¼Œå¯ä»¥ï¼š

1. **æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·**

   - æ˜¾ç¤ºï¼šIDã€ç”¨æˆ·åã€é‚®ç®±ã€æ˜¾ç¤ºåç§°ã€é‚®ç®±éªŒè¯çŠ¶æ€ç­‰
   - æ”¯æŒæŒ‰é‚®ç®±éªŒè¯çŠ¶æ€ã€æ¿€æ´»çŠ¶æ€ã€æ³¨å†Œæ—¶é—´ç­›é€‰
   - æ”¯æŒæœç´¢ç”¨æˆ·åã€é‚®ç®±ã€æ˜¾ç¤ºåç§°

2. **æŸ¥çœ‹æœªéªŒè¯ç”¨æˆ·**
   - ä½¿ç”¨ç­›é€‰å™¨ï¼š`é‚®ç®±æ˜¯å¦éªŒè¯` â†’ `å¦`
   - æˆ–ä½¿ç”¨æœç´¢åŠŸèƒ½æŸ¥æ‰¾ç‰¹å®šé‚®ç®±

### åˆ é™¤æœªéªŒè¯ç”¨æˆ·

**æ–¹æ³•1: é€šè¿‡ç®¡ç†åå°**

1. è¿›å…¥"ç”¨æˆ·"ç®¡ç†é¡µé¢
2. ç­›é€‰ `é‚®ç®±æ˜¯å¦éªŒè¯ = å¦`
3. é€‰æ‹©è¦åˆ é™¤çš„ç”¨æˆ·
4. åœ¨"æ“ä½œ"ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©"åˆ é™¤æœªéªŒè¯çš„ç”¨æˆ·ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰"
5. ç‚¹å‡»"æ‰§è¡Œ"

**æ–¹æ³•2: æ‰¹é‡åˆ é™¤**

1. é€‰æ‹©å¤šä¸ªæœªéªŒè¯ç”¨æˆ·
2. ä½¿ç”¨æ‰¹é‡æ“ä½œ"åˆ é™¤æœªéªŒè¯çš„ç”¨æˆ·"

### æ‰‹åŠ¨éªŒè¯ç”¨æˆ·é‚®ç®±

å¦‚æœç”¨æˆ·å·²æ³¨å†Œä½†æœªæ”¶åˆ°éªŒè¯é‚®ä»¶ï¼Œå¯ä»¥ï¼š

1. è¿›å…¥ç”¨æˆ·è¯¦æƒ…é¡µé¢
2. å‹¾é€‰"é‚®ç®±æ˜¯å¦éªŒè¯"
3. ä¿å­˜ï¼ˆç³»ç»Ÿä¼šè‡ªåŠ¨è®¾ç½®éªŒè¯æ—¶é—´ï¼‰

æˆ–ä½¿ç”¨æ‰¹é‡æ“ä½œï¼š

1. é€‰æ‹©è¦éªŒè¯çš„ç”¨æˆ·
2. åœ¨"æ“ä½œ"ä¸­é€‰æ‹©"æ ‡è®°é€‰ä¸­ç”¨æˆ·é‚®ç®±ä¸ºå·²éªŒè¯"
3. ç‚¹å‡»"æ‰§è¡Œ"

---

## ğŸ“§ é‚®ç®±éªŒè¯ç®¡ç†

### æŸ¥çœ‹éªŒè¯è®°å½•

åœ¨"é‚®ç®±éªŒè¯"ç®¡ç†é¡µé¢ï¼Œå¯ä»¥ï¼š

- æŸ¥çœ‹æ‰€æœ‰éªŒè¯è®°å½•
- æŸ¥çœ‹éªŒè¯çŠ¶æ€ï¼ˆå·²éªŒè¯/æœªéªŒè¯ï¼‰
- æŸ¥çœ‹è¿‡æœŸçŠ¶æ€ï¼ˆæœ‰æ•ˆ/å·²è¿‡æœŸï¼‰
- æŸ¥çœ‹éªŒè¯é“¾æ¥çš„token

### é‡æ–°å‘é€éªŒè¯é‚®ä»¶

å¦‚æœç”¨æˆ·æœªæ”¶åˆ°éªŒè¯é‚®ä»¶ï¼Œå¯ä»¥ï¼š

1. è¿›å…¥"é‚®ç®±éªŒè¯"ç®¡ç†é¡µé¢
2. æ‰¾åˆ°å¯¹åº”çš„éªŒè¯è®°å½•ï¼ˆæœªéªŒè¯ä¸”æœªè¿‡æœŸï¼‰
3. é€‰æ‹©è®°å½•
4. åœ¨"æ“ä½œ"ä¸­é€‰æ‹©"é‡æ–°å‘é€éªŒè¯é‚®ä»¶"
5. ç‚¹å‡»"æ‰§è¡Œ"

### åˆ é™¤è¿‡æœŸéªŒè¯è®°å½•

1. è¿›å…¥"é‚®ç®±éªŒè¯"ç®¡ç†é¡µé¢
2. ç­›é€‰è¿‡æœŸè®°å½•
3. é€‰æ‹©è¦åˆ é™¤çš„è®°å½•
4. åœ¨"æ“ä½œ"ä¸­é€‰æ‹©"åˆ é™¤è¿‡æœŸçš„éªŒè¯è®°å½•"
5. ç‚¹å‡»"æ‰§è¡Œ"

---

## ğŸ› ï¸ å‘½ä»¤è¡Œæ“ä½œ

### åˆ é™¤æœªéªŒè¯ç”¨æˆ·

```bash
# è¿›å…¥Django shell
docker-compose exec backend python manage.py shell

# åˆ é™¤æœªéªŒè¯ç”¨æˆ·
from django.contrib.auth import get_user_model
User = get_user_model()
unverified = User.objects.filter(is_email_verified=False)
print(f"æ‰¾åˆ° {unverified.count()} ä¸ªæœªéªŒè¯ç”¨æˆ·")
unverified.delete()
print("å·²åˆ é™¤æ‰€æœ‰æœªéªŒè¯ç”¨æˆ·")
```

### åˆ é™¤ç‰¹å®šé‚®ç®±çš„ç”¨æˆ·

```bash
docker-compose exec backend python manage.py shell

from django.contrib.auth import get_user_model
User = get_user_model()
user = User.objects.filter(email='your-email@example.com').first()
if user:
    user.delete()
    print("ç”¨æˆ·å·²åˆ é™¤")
else:
    print("ç”¨æˆ·ä¸å­˜åœ¨")
```

### æ‰‹åŠ¨éªŒè¯ç”¨æˆ·é‚®ç®±

```bash
docker-compose exec backend python manage.py shell

from django.contrib.auth import get_user_model
from django.utils import timezone
User = get_user_model()
user = User.objects.filter(email='your-email@example.com').first()
if user:
    user.is_email_verified = True
    user.email_verified_at = timezone.now()
    user.save()
    print("ç”¨æˆ·é‚®ç®±å·²æ ‡è®°ä¸ºå·²éªŒè¯")
```

### é‡æ–°å‘é€éªŒè¯é‚®ä»¶

```bash
docker-compose exec backend python manage.py shell

from apps.users.models import EmailVerification
from apps.users.tasks import send_email_verification

# æ‰¾åˆ°æœ€æ–°çš„éªŒè¯è®°å½•
verification = EmailVerification.objects.filter(
    email='your-email@example.com',
    verified_at__isnull=True
).order_by('-created_at').first()

if verification and not verification.is_expired():
    send_email_verification.delay(
        user_id=verification.user.id,
        email=verification.email,
        token=verification.token,
    )
    print("éªŒè¯é‚®ä»¶å·²é‡æ–°å‘é€")
else:
    print("æœªæ‰¾åˆ°æœ‰æ•ˆçš„éªŒè¯è®°å½•")
```

---

## ğŸ“‹ å¿«é€Ÿæ“ä½œæŒ‡å—

### åœºæ™¯1: åˆ é™¤ä¹‹å‰æ³¨å†Œçš„æœªéªŒè¯ç”¨æˆ·

**é—®é¢˜**: ä¹‹å‰æ³¨å†Œæ—¶é‚®ç®±æœªé…ç½®ï¼Œç°åœ¨é…ç½®äº†ï¼Œä½†é‚®ç®±å·²è¢«æ³¨å†Œ

**è§£å†³**:

1. **é€šè¿‡ç®¡ç†åå°**:

   - è®¿é—® http://localhost:8000/admin/
   - ç™»å½•ï¼ˆadmin / admin123ï¼‰
   - è¿›å…¥"ç”¨æˆ·" â†’ ç­›é€‰"é‚®ç®±æ˜¯å¦éªŒè¯ = å¦"
   - é€‰æ‹©è¦åˆ é™¤çš„ç”¨æˆ· â†’ "åˆ é™¤æœªéªŒè¯çš„ç”¨æˆ·" â†’ æ‰§è¡Œ

2. **é€šè¿‡å‘½ä»¤è¡Œ**:
   ```bash
   docker-compose exec backend python manage.py shell
   ```
   ç„¶åæ‰§è¡Œï¼š
   ```python
   from django.contrib.auth import get_user_model
   User = get_user_model()
   User.objects.filter(email='your-email@example.com', is_email_verified=False).delete()
   ```

### åœºæ™¯2: é‡æ–°å‘é€éªŒè¯é‚®ä»¶

**é—®é¢˜**: ç”¨æˆ·æ³¨å†Œäº†ä½†æœªæ”¶åˆ°éªŒè¯é‚®ä»¶

**è§£å†³**:

1. **é€šè¿‡ç®¡ç†åå°**:

   - è¿›å…¥"é‚®ç®±éªŒè¯" â†’ æ‰¾åˆ°å¯¹åº”çš„éªŒè¯è®°å½•
   - é€‰æ‹©è®°å½• â†’ "é‡æ–°å‘é€éªŒè¯é‚®ä»¶" â†’ æ‰§è¡Œ

2. **é€šè¿‡å‘½ä»¤è¡Œ**:
   ```bash
   docker-compose exec backend python manage.py shell
   ```
   ç„¶åæ‰§è¡Œä¸Šé¢çš„"é‡æ–°å‘é€éªŒè¯é‚®ä»¶"ä»£ç 

### åœºæ™¯3: æ‰‹åŠ¨éªŒè¯ç”¨æˆ·é‚®ç®±

**é—®é¢˜**: ç”¨æˆ·å·²æ³¨å†Œï¼Œä½†éªŒè¯é‚®ä»¶å·²è¿‡æœŸ

**è§£å†³**:

1. **é€šè¿‡ç®¡ç†åå°**:

   - è¿›å…¥"ç”¨æˆ·" â†’ æ‰¾åˆ°ç”¨æˆ·
   - ç¼–è¾‘ç”¨æˆ· â†’ å‹¾é€‰"é‚®ç®±æ˜¯å¦éªŒè¯" â†’ ä¿å­˜

2. **é€šè¿‡å‘½ä»¤è¡Œ**:
   æ‰§è¡Œä¸Šé¢çš„"æ‰‹åŠ¨éªŒè¯ç”¨æˆ·é‚®ç®±"ä»£ç 

---

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **: é¦–æ¬¡ç™»å½•åç«‹å³ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
2. **åˆ›å»ºä¸“ç”¨ç®¡ç†å‘˜**: ä¸è¦ä½¿ç”¨é»˜è®¤adminè´¦æˆ·è¿›è¡Œæ—¥å¸¸æ“ä½œ
3. **å®šæœŸæ¸…ç†**: å®šæœŸåˆ é™¤è¿‡æœŸçš„éªŒè¯è®°å½•å’ŒæœªéªŒè¯ç”¨æˆ·
4. **æƒé™æ§åˆ¶**: ç”Ÿäº§ç¯å¢ƒåº”é™åˆ¶ç®¡ç†åå°çš„è®¿é—®IP

---

## ğŸ“ ç›¸å…³æ–‡ä»¶

- `backend/apps/users/admin.py` - ç®¡ç†åå°é…ç½®
- `backend/apps/users/models.py` - ç”¨æˆ·å’ŒéªŒè¯æ¨¡å‹
- `backend/bravo/urls.py` - URLé…ç½®ï¼ˆåŒ…å« `/admin/` è·¯ç”±ï¼‰

---

**ç®¡ç†åå°å·²é…ç½®å®Œæˆï¼ç°åœ¨å¯ä»¥é€šè¿‡ http://localhost:8000/admin/ ç®¡ç†ç”¨æˆ·å’ŒéªŒè¯è®°å½•äº†ã€‚**
