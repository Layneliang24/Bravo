# Bravo 项目命名规范

## 概述
本文档定义了 Bravo 项目中所有代码、文件、数据库等命名规则，确保代码一致性和可维护性。

## 1. Python/Django 命名规范 (PEP8)

### 1.1 包和模块命名
- **包名**: 全小写，简短，可使用下划线分隔单词
  - 正确: `blog`, `user_management`
  - 错误: `Blog`, `UserManagement`

- **模块名**: 全小写，简短，可使用下划线分隔单词
  - 正确: `models.py`, `user_service.py`
  - 错误: `Models.py`, `UserService.py`

### 1.2 类命名
- **类名**: 使用 PascalCase（大驼峰）
  - 正确: `UserProfile`, `BlogPost`
  - 错误: `userProfile`, `blog_post`

- **异常类**: 以 `Error` 结尾
  - 正确: `ValidationError`, `UserNotFoundError`
  - 错误: `Validation`, `UserNotFound`

### 1.3 函数和方法命名
- **函数名**: 使用 snake_case（小写加下划线）
  - 正确: `get_user_by_id()`, `calculate_total_price()`
  - 错误: `getUserById()`, `CalculateTotalPrice()`

- **私有方法**: 以下划线开头
  - 正确: `_validate_email()`, `_send_notification()`
  - 错误: `__validate_email__()`, `validateEmail()`

### 1.4 变量命名
- **变量名**: 使用 snake_case
  - 正确: `user_name`, `total_count`
  - 错误: `userName`, `totalCount`

- **常量**: 全大写，下划线分隔
  - 正确: `MAX_RETRY_COUNT`, `DEFAULT_TIMEOUT`
  - 错误: `max_retry_count`, `defaultTimeout`

### 1.5 Django 特定命名
- **模型类**: 单数形式，PascalCase
  - 正确: `User`, `BlogPost`
  - 错误: `Users`, `BlogPosts`

- **字段名**: 小写加下划线
  - 正确: `first_name`, `created_at`
  - 错误: `firstName`, `createdAt`

- **URL 模式名**: 小写加下划线
  - 正确: `user_detail`, `blog_post_list`
  - 错误: `userDetail`, `blogPostList`

## 2. Vue/TypeScript 命名规范

### 2.1 组件命名
- **单文件组件**: PascalCase
  - 正确: `UserProfile.vue`, `BlogPostCard.vue`
  - 错误: `user-profile.vue`, `blogPostCard.vue`

- **基础组件**: 以 `Base` 开头
  - 正确: `BaseButton.vue`, `BaseInput.vue`
  - 错误: `Button.vue`, `Input.vue`

- **业务组件**: 描述性命名
  - 正确: `UserLoginForm.vue`, `BlogArticleList.vue`
  - 错误: `Login.vue`, `List.vue`

### 2.2 变量和函数命名
- **变量**: camelCase
  - 正确: `userName`, `isLoading`
  - 错误: `user_name`, `is_loading`

- **常量**: 全大写，下划线分隔
  - 正确: `API_BASE_URL`, `MAX_FILE_SIZE`
  - 错误: `apiBaseUrl`, `maxFileSize`

- **函数**: camelCase
  - 正确: `getUserData()`, `formatDate()`
  - 错误: `get_user_data()`, `FormatDate()`

### 2.3 接口和类型命名
- **接口**: 以 `I` 开头，PascalCase
  - 正确: `IUser`, `IBlogPost`
  - 错误: `UserInterface`, `User`

- **类型**: PascalCase
  - 正确: `UserRole`, `BlogStatus`
  - 错误: `userRole`, `blog_status`

- **枚举**: PascalCase，单数形式
  - 正确: `UserStatus`, `HttpMethod`
  - 错误: `UserStatuses`, `httpMethod`

### 2.4 事件命名
- **事件名**: camelCase
  - 正确: `userLogin`, `dataLoaded`
  - 错误: `user-login`, `data-loaded`

- **事件处理器**: 以 `handle` 开头
  - 正确: `handleUserLogin`, `handleDataLoaded`
  - 错误: `onUserLogin`, `userLoginHandler`

## 3. 数据库命名规范

### 3.1 表命名
- **表名**: 小写加下划线，复数形式
  - 正确: `users`, `blog_posts`, `user_profiles`
  - 错误: `user`, `BlogPost`, `UserProfile`

- **关联表**: 使用连接表名，按字母顺序排列
  - 正确: `blog_post_tags`, `user_roles`
  - 错误: `tags_blog_posts`, `roles_users`

### 3.2 字段命名
- **字段名**: 小写加下划线
  - 正确: `first_name`, `created_at`, `is_active`
  - 错误: `firstName`, `createdAt`, `active`

- **外键**: 使用 `表名单数_id` 格式
  - 正确: `user_id`, `blog_post_id`
  - 错误: `userId`, `blogPostId`

- **布尔字段**: 使用 `is_` 或 `has_` 前缀
  - 正确: `is_active`, `has_permission`, `is_verified`
  - 错误: `active`, `permission`, `verified`

### 3.3 索引命名
- **主键索引**: `pk_表名`
  - 正确: `pk_users`, `pk_blog_posts`

- **唯一索引**: `uq_表名_字段名`
  - 正确: `uq_users_email`, `uq_blog_posts_slug`

- **普通索引**: `idx_表名_字段名`
  - 正确: `idx_users_created_at`, `idx_blog_posts_status`

- **复合索引**: `idx_表名_字段1_字段2`
  - 正确: `idx_blog_posts_status_created_at`

## 4. 文件和目录命名

### 4.1 目录命名
- **目录名**: 小写加下划线或连字符
  - 正确: `user_management`, `blog-posts`
  - 错误: `UserManagement`, `blogPosts`

### 4.2 文件命名
- **配置文件**: 小写加下划线
  - 正确: `settings.py`, `config.json`, `.env.local`
  - 错误: `Settings.py`, `Config.json`

- **测试文件**: 以 `test_` 开头
  - 正确: `test_models.py`, `test_user_service.py`
  - 错误: `models_test.py`, `UserServiceTest.py`

## 5. API 命名规范

### 5.1 RESTful API
- **端点**: 小写加连字符，复数形式
  - 正确: `/api/v1/users`, `/api/v1/blog-posts`
  - 错误: `/api/v1/user`, `/api/v1/blogPosts`

- **动作**: 使用 HTTP 方法表示
  - GET: 获取资源
  - POST: 创建资源
  - PUT: 更新资源
  - DELETE: 删除资源

### 5.2 查询参数
- **参数名**: 小写加下划线
  - 正确: `page_size`, `sort_by`, `filter_status`
  - 错误: `pageSize`, `sortBy`, `filterStatus`

## 6. 环境变量命名

- **环境变量**: 全大写，下划线分隔
  - 正确: `DATABASE_URL`, `API_SECRET_KEY`, `DEBUG_MODE`
  - 错误: `database_url`, `apiSecretKey`, `debug_mode`

## 7. Git 分支命名

- **功能分支**: `feature/功能描述`
  - 正确: `feature/user-authentication`, `feature/blog-post-editor`
  - 错误: `feature/userAuthentication`, `feature/blogPostEditor`

- **修复分支**: `fix/问题描述`
  - 正确: `fix/login-validation-error`, `fix/memory-leak`

- **发布分支**: `release/版本号`
  - 正确: `release/v1.0.0`, `release/v1.2.3`

## 8. 检查工具配置

项目已配置以下工具进行命名规范检查：

- **Python**: flake8, pylint, black, isort
- **JavaScript/TypeScript**: ESLint, Prettier
- **Git**: pre-commit hooks
- **CI/CD**: GitHub Actions 自动检查

## 9. 例外情况

在以下情况下可以例外：

1. 与第三方库集成时遵循库的命名规范
2. 历史遗留代码的逐步迁移
3. 特殊业务需求经过团队讨论决定

## 10. 实施计划

1. **阶段一**: 创建规范文档和配置文件
2. **阶段二**: 配置检查工具
3. **阶段三**: 逐步应用到现有代码
4. **阶段四**: 团队培训和代码审查
5. **阶段五**: 强制执行和持续改进