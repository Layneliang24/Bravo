# Bravoé¡¹ç›®

## è¯´æ˜

Bravoé¡¹ç›®æ˜¯åŸºäºAlphaé¡¹ç›®è¿›è¡Œå‡çº§æ”¹é€ çš„é¡¹ç›®ï¼Œè¦å½»åº•å‘Šåˆ«alphaé¡¹ç›®å…ˆå¤©æ€§æµ‹è¯•ä½“ç³»ç¼ºé™·ï¼Œæ–‡æ¡£æ··ä¹±ï¼ŒCICDé˜»ç¢ï¼Œä»£ç è‡ƒè‚¿ç­‰æƒ…å†µã€‚

### æœ€ä½³å®è·µ

é€šè¿‡è¯¢é—®kimiå’ŒdeepseekæŠŠå„ä¸ªåŠŸèƒ½æ­¥éª¤çš„æœ€ä½³å®è·µæ›´æ–°åˆ°è¿™é‡Œï¼Œç„¶åå†è®©cursoræŒ‰ç…§è¿™é‡Œçš„æ€è·¯å»è¿›è¡Œé¡¹ç›®å¼€å‘ã€‚ç¡®ä¿ç»†èŠ‚æŠŠæ¡

## é¡¹ç›®åˆæ­¥æ¡†æ¶ï¼š

### Bravoé¡¹ç›®çº§åŸºç¡€æ¡†æ¶

```css
Bravo/                                          # âœ é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ .cursor/                                    # âœ AIå¼€å‘åŠ©æ‰‹é…ç½®
â”‚   â”œâ”€â”€ rules/                                  # âœ AIè§„åˆ™å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ django_split.mdc.keep               # âœ Djangoåº”ç”¨æ‹†åˆ†è§„åˆ™æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ vue_component.mdc.keep              # âœ Vueç»„ä»¶ç”Ÿæˆè§„åˆ™æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ test_coverage.mdc.keep              # âœ æµ‹è¯•è¦†ç›–ç‡è§„åˆ™æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ code_quality.mdc.keep               # âœ ä»£ç è´¨é‡æ£€æŸ¥è§„åˆ™æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ security_scan.mdc.keep              # âœ å®‰å…¨æ‰«æè§„åˆ™æ¨¡æ¿
â”‚   â””â”€â”€ mcp.json.keep                           # âœ MCPæœåŠ¡å™¨é…ç½®æ¨¡æ¿
â”œâ”€â”€ .github/                                    # âœ GitHubé…ç½®
â”‚   â”œâ”€â”€ workflows/                              # âœ CI/CDå·¥ä½œæµ
â”‚   â”‚   â”œâ”€â”€ ci.yml.keep                         # âœ æŒç»­é›†æˆæµæ°´çº¿æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ e2e.yml.keep                        # âœ ç«¯åˆ°ç«¯æµ‹è¯•æµæ°´çº¿æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ deploy-cloudrun.yml.keep            # âœ äº‘éƒ¨ç½²æµæ°´çº¿æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ nightly.yml.keep                    # âœ å¤œé—´æ„å»ºæµæ°´çº¿æ¨¡æ¿
â”‚   â”œâ”€â”€ PULL_REQUEST_TEMPLATE.md.keep           # âœ Pull Requestæ¨¡æ¿
â”‚   â””â”€â”€ dependabot.yml.keep                     # âœ ä¾èµ–è‡ªåŠ¨æ›´æ–°é…ç½®æ¨¡æ¿
â”œâ”€â”€ .envs/                                      # âœ ç¯å¢ƒå˜é‡é…ç½®
â”‚   â”œâ”€â”€ .env.local.example                      # âœ æœ¬åœ°ç¯å¢ƒç¤ºä¾‹
â”‚   â”œâ”€â”€ .env.staging.example                    # âœ é¢„å‘å¸ƒç¯å¢ƒç¤ºä¾‹
â”‚   â””â”€â”€ .env.prod.example                       # âœ ç”Ÿäº§ç¯å¢ƒç¤ºä¾‹
â”œâ”€â”€ backend/                                    # âœ Djangoåç«¯æœåŠ¡
â”‚   â”œâ”€â”€ Dockerfile.keep                         # âœ å®¹å™¨æ„å»ºé…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ requirements.txt.keep                   # âœ ä¾èµ–å…¥å£æ–‡ä»¶æ¨¡æ¿
â”‚   â”œâ”€â”€ .python-version.keep                    # âœ Pythonç‰ˆæœ¬é”å®šæ¨¡æ¿
â”‚   â”œâ”€â”€ requirements/                           # âœ ä¾èµ–ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ base.txt.keep                       # âœ åŸºç¡€ä¾èµ–æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ local.txt.keep                      # âœ æœ¬åœ°å¼€å‘ä¾èµ–æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ test.txt.keep                       # âœ æµ‹è¯•ç¯å¢ƒä¾èµ–æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ prod.txt.keep                       # âœ ç”Ÿäº§ç¯å¢ƒä¾èµ–æ¨¡æ¿
â”‚   â”œâ”€â”€ manage.py.keep                          # âœ Djangoç®¡ç†è„šæœ¬æ¨¡æ¿
â”‚   â”œâ”€â”€ logs/                                   # âœ åº”ç”¨æ—¥å¿—ç›®å½•
â”‚   â”‚   â””â”€â”€ directory.keep                      # âœ ç›®å½•å ä½æ–‡ä»¶
â”‚   â”œâ”€â”€ bravo/                                  # âœ Djangoé¡¹ç›®é…ç½®
â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                    # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ asgi.py.keep                        # âœ ASGIæœåŠ¡å™¨é…ç½®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ wsgi.py.keep                        # âœ WSGIæœåŠ¡å™¨é…ç½®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ settings/                           # âœ é¡¹ç›®è®¾ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py.keep                    # âœ åŸºç¡€é…ç½®æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ local.py.keep                   # âœ æœ¬åœ°å¼€å‘é…ç½®æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ test.py.keep                    # âœ æµ‹è¯•ç¯å¢ƒé…ç½®æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ prod.py.keep                    # âœ ç”Ÿäº§ç¯å¢ƒé…ç½®æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ urls.py.keep                        # âœ ä¸»URLè·¯ç”±é…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ apps/                                   # âœ ä¸šåŠ¡åº”ç”¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ users/                              # âœ ç”¨æˆ·ç®¡ç†åº”ç”¨
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ models.py.keep                  # âœ æ•°æ®æ¨¡å‹å®šä¹‰æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ api.py.keep                     # âœ APIè·¯ç”±å®šä¹‰æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ services/                       # âœ ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ __init__.py.keep            # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ selectors.py.keep               # âœ æ•°æ®æŸ¥è¯¢å°è£…æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ filters.py.keep                 # âœ æ•°æ®è¿‡æ»¤é…ç½®æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ tests/                          # âœ æµ‹è¯•ç”¨ä¾‹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep            # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ conftest.py.keep            # âœ æµ‹è¯•é…ç½®æ¨¡æ¿
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ test_models.py.keep         # âœ æ¨¡å‹æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ test_api.py.keep            # âœ APIæµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ test_integration.py.keep    # âœ é›†æˆæµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ test_performance.py.keep    # âœ æ€§èƒ½æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ factories.py.keep               # âœ æµ‹è¯•æ•°æ®å·¥å‚æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ fixtures/                       # âœ æµ‹è¯•å¤¹å…·æ•°æ®
â”‚   â”‚   â”‚       â””â”€â”€ initial_data.json.keep      # âœ åˆå§‹æ•°æ®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ blog/                               # âœ åšå®¢åº”ç”¨
â”‚   â”‚   â”‚   â””â”€â”€ (ç±»ä¼¼usersç»“æ„ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½å¸¦.keepåç¼€) # âœ ç±»ä¼¼ç”¨æˆ·åº”ç”¨ç»“æ„æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ english/                            # âœ è‹±è¯­å­¦ä¹ åº”ç”¨
â”‚   â”‚   â”‚   â””â”€â”€ (ç±»ä¼¼usersç»“æ„ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½å¸¦.keepåç¼€) # âœ ç±»ä¼¼ç”¨æˆ·åº”ç”¨ç»“æ„æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ jobs/                               # âœ æ±‚èŒåº”ç”¨
â”‚   â”‚   â”‚   â””â”€â”€ (ç±»ä¼¼usersç»“æ„ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½å¸¦.keepåç¼€) # âœ ç±»ä¼¼ç”¨æˆ·åº”ç”¨ç»“æ„æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ common/                             # âœ é€šç”¨åŠŸèƒ½åº”ç”¨
â”‚   â”‚       â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚       â”œâ”€â”€ permissions.py.keep             # âœ æƒé™æ§åˆ¶æ¨¡æ¿
â”‚   â”‚       â”œâ”€â”€ pagination.py.keep              # âœ åˆ†é¡µé…ç½®æ¨¡æ¿
â”‚   â”‚       â””â”€â”€ testing/                        # âœ æµ‹è¯•å·¥å…·
â”‚   â”‚           â”œâ”€â”€ __init__.py.keep            # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚           â”œâ”€â”€ factories.py.keep           # âœ åŸºç¡€å·¥å‚ç±»æ¨¡æ¿
â”‚   â”‚           â””â”€â”€ helpers.py.keep             # âœ æµ‹è¯•è¾…åŠ©å‡½æ•°æ¨¡æ¿
â”‚   â”œâ”€â”€ ai_pipeline/                            # âœ AIèƒ½åŠ›ç®¡é“
â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                    # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ clients/                            # âœ AIå®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ openai_client.py.keep           # âœ OpenAIå®¢æˆ·ç«¯æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ mock_client.py.keep             # âœ æ¨¡æ‹Ÿå®¢æˆ·ç«¯æ¨¡æ¿(æµ‹è¯•ç”¨)
â”‚   â”‚   â”œâ”€â”€ services/                           # âœ AIæœåŠ¡å°è£…
â”‚   â”‚   â”‚   â””â”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ tasks.py.keep                       # âœ å¼‚æ­¥ä»»åŠ¡å®šä¹‰æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ tests/                              # âœ AIç®¡é“æµ‹è¯•
â”‚   â”‚       â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚       â”œâ”€â”€ conftest.py.keep                # âœ æµ‹è¯•é…ç½®æ¨¡æ¿
â”‚   â”‚       â”œâ”€â”€ test_clients.py.keep            # âœ å®¢æˆ·ç«¯æµ‹è¯•æ¨¡æ¿
â”‚   â”‚       â””â”€â”€ test_services.py.keep           # âœ æœåŠ¡æµ‹è¯•æ¨¡æ¿
â”‚   â”œâ”€â”€ feature_flags/                          # âœ åŠŸèƒ½å¼€å…³é…ç½®
â”‚   â”‚   â””â”€â”€ __init__.py.keep                    # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”œâ”€â”€ tests/                                  # âœ é¡¶å±‚æµ‹è¯•ç›®å½•
â”‚   â”‚   â”œâ”€â”€ integration/                        # âœ é›†æˆæµ‹è¯•
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ test_user_flow.py.keep          # âœ ç”¨æˆ·æµç¨‹æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ performance/                        # âœ æ€§èƒ½æµ‹è¯•
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ locustfile.py.keep              # âœ Locustæ€§èƒ½æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ k6/                             # âœ k6æ€§èƒ½æµ‹è¯•
â”‚   â”‚   â”‚       â””â”€â”€ user_flow.js.keep           # âœ ç”¨æˆ·æµç¨‹æ€§èƒ½æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ factories/                          # âœ æµ‹è¯•å·¥å‚
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ user_factory.py.keep            # âœ ç”¨æˆ·å·¥å‚æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ selenium/                           # âœ Seleniumæµ‹è¯•
â”‚   â”‚       â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚       â”œâ”€â”€ conftest.py.keep                # âœ æµ‹è¯•é…ç½®æ¨¡æ¿
â”‚   â”‚       â””â”€â”€ test_login_flow.py.keep         # âœ ç™»å½•æµç¨‹æµ‹è¯•æ¨¡æ¿
â”‚   â”œâ”€â”€ scripts/                                # âœ åç«¯è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                    # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ init_test_data.py.keep              # âœ åˆå§‹åŒ–æµ‹è¯•æ•°æ®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ run_radon.py.keep                   # âœ ä»£ç å¤æ‚åº¦åˆ†ææ¨¡æ¿
â”‚   â”‚   â””â”€â”€ run_coverage.py.keep                # âœ è¦†ç›–ç‡åˆ†ææ¨¡æ¿
â”‚   â”œâ”€â”€ .coveragerc                             # âœ è¦†ç›–ç‡é…ç½®
â”‚   â”œâ”€â”€ .pylintrc                               # âœ Pylintä»£ç æ£€æŸ¥é…ç½®
â”‚   â”œâ”€â”€ pytest.ini                              # âœ Pytestæµ‹è¯•é…ç½®
â”‚   â””â”€â”€ radon.cfg                               # âœ Radonå¤æ‚åº¦åˆ†æé…ç½®
â”œâ”€â”€ frontend/                                   # âœ Vueå‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ Dockerfile.keep                         # âœ å®¹å™¨æ„å»ºé…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ index.html.keep                         # âœ HTMLå…¥å£æ–‡ä»¶æ¨¡æ¿
â”‚   â”œâ”€â”€ package.json.keep                       # âœ é¡¹ç›®ä¾èµ–é…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ package-lock.json.keep                  # âœ ä¾èµ–é”æ–‡ä»¶æ¨¡æ¿
â”‚   â”œâ”€â”€ .nvmrc.keep                             # âœ Nodeç‰ˆæœ¬é…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ .env.example.keep                       # âœ ç¯å¢ƒå˜é‡ç¤ºä¾‹æ¨¡æ¿
â”‚   â”œâ”€â”€ vite.config.ts.keep                     # âœ Viteæ„å»ºé…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ tests/                                  # âœ å‰ç«¯æµ‹è¯•é…ç½®
â”‚   â”‚   â”œâ”€â”€ unit/                               # âœ å•å…ƒæµ‹è¯•
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py                     # âœ PythonåŒ…æ ‡è¯†
â”‚   â”‚   â”‚   â”œâ”€â”€ setup.ts                        # âœ æµ‹è¯•è®¾ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ vitest.config.ts                # âœ Vitesté…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ global-teardown.ts              # âœ å…¨å±€æ¸…ç†
â”‚   â”‚   â”œâ”€â”€ e2e/                                # âœ ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py                     # âœ PythonåŒ…æ ‡è¯†
â”‚   â”‚   â”‚   â”œâ”€â”€ playwright.config.ts            # âœ Playwrighté…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ selenium.config.js              # âœ Seleniumé…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ flows/                          # âœ æµ‹è¯•æµç¨‹
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py                 # âœ PythonåŒ…æ ‡è¯†
â”‚   â”‚   â”‚       â”œâ”€â”€ auth.flow.e2e.ts            # âœ è®¤è¯æµç¨‹æµ‹è¯•
â”‚   â”‚   â”‚       â””â”€â”€ factories/                  # âœ å‰ç«¯æµ‹è¯•æ•°æ®å·¥å‚
â”‚   â”‚   â”‚           â”œâ”€â”€ user.factory.ts         # âœ ç”¨æˆ·æ•°æ®å·¥å‚
â”‚   â”‚   â”‚           â””â”€â”€ blog.factory.ts         # âœ åšå®¢æ•°æ®å·¥å‚
â”‚   â”‚   â””â”€â”€ coverage/                           # âœ è¦†ç›–ç‡é…ç½®
â”‚   â”‚       â”œâ”€â”€ __init__.py                     # âœ PythonåŒ…æ ‡è¯†
â”‚   â”‚       â””â”€â”€ index.html                      # âœ pytest-cov / vitest ç”Ÿæˆ
â”‚   â”‚       â””â”€â”€ vitest.config.ts                # âœ è¦†ç›–ç‡é…ç½®
â”‚   â”œâ”€â”€ src/                                    # âœ æºä»£ç ç›®å½•
â”‚   â”‚   â”œâ”€â”€ main.ts.keep                        # âœ åº”ç”¨å…¥å£æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ App.vue.keep                        # âœ æ ¹ç»„ä»¶æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ router/                             # âœ è·¯ç”±é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ index.ts.keep                   # âœ è·¯ç”±å®šä¹‰æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ stores/                             # âœ çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ index.ts.keep                   # âœ Storeå®šä¹‰æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ api/                                # âœ APIå®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ users.ts.keep                   # âœ ç”¨æˆ·APIæ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ blog.ts.keep                    # âœ åšå®¢APIæ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ english.ts.keep                 # âœ è‹±è¯­APIæ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ components/                         # âœ ç»„ä»¶ç›®å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseButton.vue.keep             # âœ åŸºç¡€æŒ‰é’®ç»„ä»¶æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseButton.spec.ts.keep         # âœ æŒ‰é’®ç»„ä»¶æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ BaseButton.stories.ts.keep      # âœ æŒ‰é’®ç»„ä»¶æ–‡æ¡£æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ views/                              # âœ é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.vue.keep                  # âœ ç™»å½•é¡µé¢æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.spec.ts.keep              # âœ ç™»å½•é¡µé¢æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ Login.e2e.ts.keep               # âœ ç™»å½•é¡µé¢E2Eæµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ composables/                        # âœ ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ useApi.ts.keep                  # âœ APIç»„åˆå‡½æ•°æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ i18n/                               # âœ å›½é™…åŒ–é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ index.ts.keep                   # âœ å›½é™…åŒ–è®¾ç½®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ utils/                              # âœ å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ format.ts.keep                  # âœ æ ¼å¼åŒ–å·¥å…·æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ styles/                             # âœ æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ main.scss.keep                  # âœ ä¸»æ ·å¼æ–‡ä»¶æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ types/                              # âœ TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚       â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚       â”œâ”€â”€ user.ts.keep                    # âœ ç”¨æˆ·ç±»å‹å®šä¹‰æ¨¡æ¿
â”‚   â”‚       â””â”€â”€ api.ts.keep                     # âœ APIç±»å‹å®šä¹‰æ¨¡æ¿
â”‚   â”œâ”€â”€ .eslintrc.js.keep                       # âœ ESLintä»£ç æ£€æŸ¥é…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ .stylelintrc.keep                       # âœ StyleLintæ ·å¼æ£€æŸ¥é…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ playwright.config.ts.keep               # âœ Playwrightæµ‹è¯•é…ç½®æ¨¡æ¿
â”‚   â””â”€â”€ lighthouse.config.js.keep               # âœ Lighthouseæ€§èƒ½æ£€æµ‹é…ç½®æ¨¡æ¿
â”œâ”€â”€ docs/                       # âœ å…¨éƒ¨éæºç æ–‡æ¡£
â”‚   â”œâ”€â”€ 00_product/             # âœ äº§å“éœ€æ±‚ä¾§
â”‚   â”‚   â”œâ”€â”€ PRD_v1.0.md.keep         # âœ äº§å“éœ€æ±‚æ–‡æ¡£ï¼ˆMarkdownï¼‰
â”‚   â”‚   â”œâ”€â”€ PRD_v2.0.md.keep
â”‚   â”‚   â””â”€â”€ feature_flags.md.keep    # âœ åŠŸèƒ½å¼€å…³åœ°å›¾
â”‚   â”œâ”€â”€ 01_guideline/           # âœ æŒ‡å¯¼æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ onboarding.md.keep       # âœ æ–°äºº onboarding
â”‚   â”‚   â”œâ”€â”€ api_guideline.md.keep    # âœ API è®¾è®¡è§„èŒƒ
â”‚   â”‚   â”œâ”€â”€ commit_rules.md.keep     # âœ æäº¤æ¶ˆæ¯çº¦å®š
â”‚   â”‚   â””â”€â”€ release_process.md.keep  # âœ å‘ç‰ˆæµç¨‹
â”‚   â”œâ”€â”€ 02_test_report/         # âœ æµ‹è¯•æˆæœ
â”‚   â”‚   â”œâ”€â”€ 2024-09-04_sprint1.md.keep # âœ è¿­ä»£æµ‹è¯•æŠ¥å‘Šï¼ˆMarkdownï¼‰
â”‚   â”‚   â”œâ”€â”€ 2024-09-04_coverage.html.keep -> ../tests/reports/coverage/index.html  # âœ è½¯é“¾åˆ° CI ç”Ÿæˆé¡µ
â”‚   â”‚   â””â”€â”€ allure/               # âœ è½¯é“¾åˆ° tests/allure-results
â”‚   â””â”€â”€ 03_operate/               # âœ è¿ç»´ä¾§
â”‚       â”œâ”€â”€ runbook.md.keep            # âœ æ•…éšœ playbook
â”‚       â”œâ”€â”€ grafana_dashboard.md.keep  # âœ ç›‘æ§é¢æ¿è¯´æ˜
â”‚       â””â”€â”€ oncall.md.keep             # âœ å€¼ç­è½®å€¼è¡¨

â”œâ”€â”€ e2e/                                        # âœ ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ tests/                                  # âœ æµ‹è¯•ç”¨ä¾‹
â”‚   â”‚   â”œâ”€â”€ auth.login.spec.ts.keep             # âœ è®¤è¯ç™»å½•æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ english.learn.spec.ts.keep          # âœ è‹±è¯­å­¦ä¹ æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ user-management.spec.ts.keep        # âœ ç”¨æˆ·ç®¡ç†æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ blog.spec.ts.keep                   # âœ åšå®¢åŠŸèƒ½æµ‹è¯•æ¨¡æ¿
â”‚   â”œâ”€â”€ fixtures/                               # âœ æµ‹è¯•æ•°æ®
â”‚   â”‚   â”œâ”€â”€ users.json.keep                     # âœ ç”¨æˆ·æµ‹è¯•æ•°æ®æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ posts.json.keep                     # âœ æ–‡ç« æµ‹è¯•æ•°æ®æ¨¡æ¿
â”‚   â”œâ”€â”€ support/                                # âœ æµ‹è¯•æ”¯æŒæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ commands.ts.keep                    # âœ è‡ªå®šä¹‰å‘½ä»¤æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ helpers.ts.keep                     # âœ æµ‹è¯•è¾…åŠ©å‡½æ•°æ¨¡æ¿
â”‚   â”œâ”€â”€ playwright.config.ts.keep               # âœ Playwrighté…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ selenium.config.js.keep                 # âœ Seleniumé…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ package.json.keep                       # âœ E2Eæµ‹è¯•ä¾èµ–æ¨¡æ¿
â”‚   â””â”€â”€ lighthouse/                             # âœ Lighthouseæ€§èƒ½æµ‹è¯•
â”‚       â”œâ”€â”€ config.js.keep                      # âœ é…ç½®æ¨¡æ¿
â”‚       â””â”€â”€ scripts/                            # âœ è„šæœ¬
â”‚           â””â”€â”€ run-audit.js.keep               # âœ æ‰§è¡Œå®¡è®¡æ¨¡æ¿
â”œâ”€â”€ tests/                                      # âœ é¡¹ç›®çº§æµ‹è¯•ç›¸å…³ç›®å½•
â”‚   â”œâ”€â”€ integration/                            # âœ é›†æˆæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                    # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ test_user_end_to_end.py.keep        # âœ ç”¨æˆ·ç«¯åˆ°ç«¯æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ test_api_integration.py.keep        # âœ APIé›†æˆæµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ test_frontend_backend.py.keep       # âœ å‰åç«¯é›†æˆæµ‹è¯•æ¨¡æ¿
â”‚   â”œâ”€â”€ system/                                 # âœ ç³»ç»Ÿæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                    # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ test_smoke.py.keep                  # âœ å†’çƒŸæµ‹è¯•æ¨¡æ¿
â”‚   â”œâ”€â”€ load/                                   # âœ è´Ÿè½½æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                    # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ locustfile.py.keep                  # âœ Locustè´Ÿè½½æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ k6/                                 # âœ k6æ€§èƒ½æµ‹è¯•
â”‚   â”‚       â””â”€â”€ load-test.js.keep               # âœ è´Ÿè½½æµ‹è¯•è„šæœ¬æ¨¡æ¿
â”‚   â”œâ”€â”€ security/                               # âœ å®‰å…¨æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                    # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ test_auth_security.py.keep          # âœ è®¤è¯å®‰å…¨æµ‹è¯•æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ test_api_security.py.keep           # âœ APIå®‰å…¨æµ‹è¯•æ¨¡æ¿
â”‚   â”œâ”€â”€ reports/                                # âœ æµ‹è¯•æŠ¥å‘Š
â”‚   â”‚   â”œâ”€â”€ .gitignore                          # âœ Gitå¿½ç•¥é…ç½®
â”‚   â”‚   â”œâ”€â”€ README.md                           # âœ æŠ¥å‘Šè¯´æ˜
â”‚   â”‚   â”œâ”€â”€ allure-results/                     # âœ Allureæµ‹è¯•ç»“æœ
â”‚   â”‚   â”‚   â””â”€â”€ .gitkeep                        # âœ Gitç©ºç›®å½•å ä½
â”‚   â”‚   â””â”€â”€ junit/                              # âœ JUnitæµ‹è¯•æŠ¥å‘Š
â”‚   â”‚       â””â”€â”€ .gitkeep                        # âœ Gitç©ºç›®å½•å ä½
â”‚   â”œâ”€â”€ coverage/                               # âœ è¦†ç›–ç‡æŠ¥å‘Š
â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                    # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
|   |   â””â”€â”€ index.html.keep                          # âœ pytest-cov / vitest ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ backend/                            # âœ åç«¯è¦†ç›–ç‡
â”‚   â”‚   â”‚   â””â”€â”€ .gitkeep                        # âœ Gitç©ºç›®å½•å ä½
â”‚   â”‚   â”œâ”€â”€ frontend/                           # âœ å‰ç«¯è¦†ç›–ç‡
â”‚   â”‚   â”‚   â””â”€â”€ .gitkeep                        # âœ Gitç©ºç›®å½•å ä½
â”‚   â”‚   â””â”€â”€ merged/                             # âœ åˆå¹¶è¦†ç›–ç‡
â”‚   â”‚       â””â”€â”€ .gitkeep                        # âœ Gitç©ºç›®å½•å ä½
â”‚   â”œâ”€â”€ allure-results/
â”‚   |   â””â”€â”€ index.html.keep                          # âœ Allure æŠ¥å‘Š
â”‚   â””â”€â”€ data/                                   # âœ æµ‹è¯•æ•°æ®
â”‚       â”œâ”€â”€ __init__.py.keep                    # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚       â”œâ”€â”€ fixtures/                           # âœ æµ‹è¯•å¤¹å…·
â”‚       â”‚   â””â”€â”€ sample_data.json.keep           # âœ ç¤ºä¾‹æ•°æ®æ¨¡æ¿
â”‚       â””â”€â”€ factories/                          # âœ æ•°æ®å·¥å‚
â”‚           â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚           â””â”€â”€ base_factory.py.keep            # âœ åŸºç¡€å·¥å‚æ¨¡æ¿
â”œâ”€â”€ k8s/                                        # âœ Kubernetesé…ç½®
â”‚   â”œâ”€â”€ base/                                   # âœ åŸºç¡€é…ç½®
â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                    # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ deployment.yaml.keep                # âœ éƒ¨ç½²é…ç½®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ service.yaml.keep                   # âœ æœåŠ¡é…ç½®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ configmap.yaml.keep                 # âœ é…ç½®æ˜ å°„æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ secret.yaml.keep                    # âœ å¯†é’¥é…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ overlays/                               # âœ ç¯å¢ƒè¦†ç›–é…ç½®
â”‚   â”‚   â”œâ”€â”€ development/                        # âœ å¼€å‘ç¯å¢ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ kustomization.yaml.keep         # âœ Kustomizeé…ç½®æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ patches/                        # âœ è¡¥ä¸æ–‡ä»¶
â”‚   â”‚   â”‚       â””â”€â”€ replica-count.yaml.keep     # âœ å‰¯æœ¬æ•°é…ç½®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ staging/                            # âœ é¢„å‘å¸ƒç¯å¢ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ kustomization.yaml.keep         # âœ Kustomizeé…ç½®æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ patches/                        # âœ è¡¥ä¸æ–‡ä»¶
â”‚   â”‚   â”‚       â””â”€â”€ resource-limits.yaml.keep   # âœ èµ„æºé™åˆ¶é…ç½®æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ production/                         # âœ ç”Ÿäº§ç¯å¢ƒ
â”‚   â”‚       â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚   â”‚       â”œâ”€â”€ kustomization.yaml.keep         # âœ Kustomizeé…ç½®æ¨¡æ¿
â”‚   â”‚       â””â”€â”€ patches/                        # âœ è¡¥ä¸æ–‡ä»¶
â”‚   â”‚           â”œâ”€â”€ hpa.yaml.keep               # âœ æ°´å¹³æ‰©å±•é…ç½®æ¨¡æ¿
â”‚   â”‚           â””â”€â”€ ingress.yaml.keep           # âœ å…¥å£é…ç½®æ¨¡æ¿
â”‚   â”œâ”€â”€ monitoring/                             # âœ ç›‘æ§é…ç½®
â”‚   â”‚   â”œâ”€â”€ prometheus.yaml.keep                # âœ Prometheusé…ç½®æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ grafana.yaml.keep                   # âœ Grafanaé…ç½®æ¨¡æ¿
â”‚   â””â”€â”€ helm-bravo/                             # âœ Helm Chart
â”‚       â”œâ”€â”€ Chart.yaml.keep                     # âœ Chartå®šä¹‰æ¨¡æ¿
â”‚       â”œâ”€â”€ values.yaml.keep                    # âœ é»˜è®¤å€¼æ¨¡æ¿
â”‚       â”œâ”€â”€ templates/                          # âœ æ¨¡æ¿æ–‡ä»¶
â”‚       â”‚   â”œâ”€â”€ __init__.py.keep                # âœ PythonåŒ…æ ‡è¯†æ¨¡æ¿
â”‚       â”‚   â”œâ”€â”€ deployment.yaml.keep            # âœ éƒ¨ç½²æ¨¡æ¿
â”‚       â”‚   â””â”€â”€ service.yaml.keep               # âœ æœåŠ¡æ¨¡æ¿
â”‚       â””â”€â”€ charts/                             # âœ å­Chart
â”‚           â””â”€â”€ .gitkeep                        # âœ Gitç©ºç›®å½•å ä½
â”œâ”€â”€ scripts/                                    # âœ é¡¹ç›®è„šæœ¬
â”‚   â”œâ”€â”€ dev.sh.keep                             # âœ å¼€å‘ç¯å¢ƒå¯åŠ¨æ¨¡æ¿
â”‚   â”œâ”€â”€ build.sh.keep                           # âœ é¡¹ç›®æ„å»ºæ¨¡æ¿
â”‚   â”œâ”€â”€ deploy.sh.keep                          # âœ é¡¹ç›®éƒ¨ç½²æ¨¡æ¿
â”‚   â”œâ”€â”€ test.sh.keep                            # âœ æµ‹è¯•æ‰§è¡Œæ¨¡æ¿
â”‚   â”œâ”€â”€ coverage.sh.keep                        # âœ è¦†ç›–ç‡æŠ¥å‘Šæ¨¡æ¿
â”‚   â”œâ”€â”€ quality.sh.keep                         # âœ ä»£ç è´¨é‡æ£€æŸ¥æ¨¡æ¿
â”‚   â””â”€â”€ lighthouse.sh.keep                      # âœ Lighthouseå®¡è®¡æ¨¡æ¿
â”œâ”€â”€ docker-compose.yml.keep                     # âœ å¼€å‘ç¯å¢ƒDockerç¼–æ’æ¨¡æ¿
â”œâ”€â”€ docker-compose.prod.yml.keep                # âœ ç”Ÿäº§ç¯å¢ƒDockerç¼–æ’æ¨¡æ¿
â”œâ”€â”€ docker-compose.test.yml.keep                # âœ æµ‹è¯•ç¯å¢ƒDockerç¼–æ’æ¨¡æ¿
â”œâ”€â”€ Makefile.keep                               # âœ é¡¹ç›®å‘½ä»¤ç®¡ç†æ¨¡æ¿
â”œâ”€â”€ pyproject.toml.keep                         # âœ Pythonå·¥å…·é…ç½®æ¨¡æ¿
â”œâ”€â”€ .pre-commit-config.yaml.keep                # âœ é¢„æäº¤é’©å­é…ç½®æ¨¡æ¿
â”œâ”€â”€ .gitignore                                  # âœ Gitå¿½ç•¥è§„åˆ™
â”œâ”€â”€ cloudbuild.yaml.keep                        # âœ äº‘æ„å»ºé…ç½®æ¨¡æ¿
â”œâ”€â”€ LICENSE                                     # âœ é¡¹ç›®è®¸å¯è¯
â”œâ”€â”€ SECURITY.md                                  # âœ å®‰å…¨ç­–ç•¥
â”œâ”€â”€ CODE_OF_CONDUCT.md                           # âœ è¡Œä¸ºå‡†åˆ™
â”œâ”€â”€ CONTRIBUTING.md                              # âœ è´¡çŒ®æŒ‡å—
â”œâ”€â”€ CHANGELOG.md                                 # âœ å˜æ›´æ—¥å¿—
â””â”€â”€ README.md                                    # âœ é¡¹ç›®è¯´æ˜
```

æ¨¡å—çº§ã€Œæ”¾ä»€ä¹ˆæ–‡ä»¶ã€é€ŸæŸ¥ï¼ˆAI ç”Ÿæˆå‘½ä»¤ä¸€å¹¶ç»™ï¼‰

| æ¨¡å—     | ç›®å½•                       | å…³é”®æ–‡ä»¶                                                 | AI ä¸€é”®ç”Ÿæˆï¼ˆCursorï¼‰                             |
| :------- | :------------------------- | :------------------------------------------------------- | :------------------------------------------------ |
| ç”¨æˆ·åŸŸ   | `backend/apps/users/`      | `models.py` `api.py` `services/` `selectors.py` `tests/` | `> MCP: Django-Ninja CRUD users + test`           |
| åšå®¢åŸŸ   | `backend/apps/blog/`       | `models.py` `api.py` `signals.py` `tests/`               | `> MCP: Django blog app with tag & category`      |
| è‹±è¯­åŸŸ   | `backend/apps/english/`    | `models.py` `api.py` `ai_client.py` `tests/`             | `> MCP: English learning domain with AI tutor`    |
| AI ç®¡é“  | `backend/ai_pipeline/`     | `clients/` `services/` `tasks.py` `tests/`               | `> MCP: AI pipeline with failover + cost monitor` |
| å‰ç«¯ç»„ä»¶ | `frontend/src/components/` | `xx.vue` `xx.spec.ts` `xx.stories.ts`                    | `> MCP: Vue3 SFC + test + story`                  |
| å‰ç«¯è§†å›¾ | `frontend/src/views/`      | `xx.vue` `xx.spec.ts` `xx.e2e.ts`                        | `> MCP: Vue3 view with router + pinia + test`     |
| E2E      | `e2e/tests/`               | `*.spec.ts`                                              | `> MCP: Playwright E2E flow for english learning` |

---

ä¸€é”®è·‘å‘½ä»¤ï¼ˆMakefileï¼‰

```makefile
dev:            ## æœ¬åœ°çƒ­é‡è½½
	docker compose up -d
install-be:     ## åç«¯å®‰è£… + é¢„æäº¤é’©å­
	cd backend && python -m venv .venv && .venv/bin/pip install -r requirements/local.txt
install-fe:     ## å‰ç«¯å®‰è£…
	cd frontend && pnpm install
test:           ## å…¨é‡æµ‹è¯•
	docker compose exec backend pytest && cd frontend && pnpm run test:ci && cd ../e2e && pnpm run test
coverage:       ## åˆå¹¶è¦†ç›–ç‡
	python -m coverage combine backend/tests/reports frontend/tests/reports && coverage html
deploy:         ## æ¨é€åˆ° CloudRun
	gcloud builds submit --config cloudbuild.yaml
```

### åŸAlphaé¡¹ç›®ç›®å½•ï¼š

````css
# Alpha æŠ€æœ¯å…±äº«å¹³å° - å®Œæ•´é¡¹ç›®ç›®å½•æ¡†æ¶

## é¡¹ç›®æ¦‚è¿°
Alpha æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„æŠ€æœ¯å…±äº«å¹³å°ï¼Œé›†æˆäº†è‹±è¯­å­¦ä¹ ã€æ±‚èŒç®¡ç†ã€å¾…åŠç¬”è®°ã€AIåŠ©æ‰‹å’Œæœç´¢åŠŸèƒ½ã€‚é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ”¯æŒå®¹å™¨åŒ–éƒ¨ç½²ã€‚

## æ•´ä½“ç›®å½•ç»“æ„

```
alpha/
â”œâ”€â”€ .cursor/                          # Cursor IDE é…ç½®
â”‚   â”œâ”€â”€ mcp.json                      # MCP æœåŠ¡å™¨é…ç½®
â”‚   â””â”€â”€ rules/                        # ä»£ç è§„åˆ™å’Œå·¥ä½œæµ
â”‚       â”œâ”€â”€ cursor_rules.mdc
â”‚       â”œâ”€â”€ self_improve.mdc
â”‚       â””â”€â”€ taskmaster/
â”‚           â”œâ”€â”€ dev_workflow.mdc
â”‚           â””â”€â”€ taskmaster.mdc
â”œâ”€â”€ .github/                          # GitHub å·¥ä½œæµå’Œæ¨¡æ¿
â”‚   â”œâ”€â”€ ISSUE_TEMPLATE/
â”‚   â”‚   â”œâ”€â”€ example_requirement_template.md
â”‚   â”‚   â””â”€â”€ idiomatic_expressions_requirement_template.md
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ ci.yml                    # æŒç»­é›†æˆ
â”‚       â”œâ”€â”€ deploy-staged.yml         # é¢„å‘å¸ƒéƒ¨ç½²
â”‚       â”œâ”€â”€ deploy.yml                # ç”Ÿäº§éƒ¨ç½²
â”‚       â”œâ”€â”€ e2e.yml                   # E2E æµ‹è¯•
â”‚       â””â”€â”€ test.yml                  # å•å…ƒæµ‹è¯•
â”œâ”€â”€ .taskmaster/                      # TaskMaster AI é¡¹ç›®ç®¡ç†
â”‚   â”œâ”€â”€ config.json                   # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ state.json                    # çŠ¶æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ docs/                         # é¡¹ç›®éœ€æ±‚æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ ai-service-config-ui-prd.txt
â”‚   â”‚   â”œâ”€â”€ frontend-js-error-fix-analysis-prd.txt
â”‚   â”‚   â”œâ”€â”€ frontend-testing-and-fix-prd.txt
â”‚   â”‚   â”œâ”€â”€ idiomatic_expressions_prd.txt
â”‚   â”‚   â”œâ”€â”€ super_reliable_test_system_rebuild.txt
â”‚   â”‚   â”œâ”€â”€ TEST_SYSTEM_REBUILD_PLAN.md
â”‚   â”‚   â””â”€â”€ TEST_SYSTEM_REBUILD_PRD.md
â”‚   â”œâ”€â”€ reports/                      # ä»»åŠ¡å¤æ‚åº¦æŠ¥å‘Š
â”‚   â”‚   â”œâ”€â”€ task-complexity-report_ai-config-ui.json
â”‚   â”‚   â””â”€â”€ task-complexity-report_feature-test_task_master.json
â”‚   â””â”€â”€ tasks/                        # ä»»åŠ¡ç®¡ç†æ–‡ä»¶
â”‚       â”œâ”€â”€ tasks.json
â”‚       â”œâ”€â”€ js-error-fix-tasks.json
â”‚       â””â”€â”€ task_*.txt
â”œâ”€â”€ ai_pipeline/                      # AI ç®¡é“æœåŠ¡
â”‚   â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ processors/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ backend/                          # Django åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ alpha/                        # Django é¡¹ç›®é…ç½®
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ asgi.py                   # ASGI å…¥å£
â”‚   â”‚   â”œâ”€â”€ celery.py                 # Celery é…ç½®
â”‚   â”‚   â”œâ”€â”€ settings.py               # Django è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ urls.py                   # URL è·¯ç”±
â”‚   â”‚   â””â”€â”€ wsgi.py                   # WSGI å…¥å£
â”‚   â”œâ”€â”€ apps/                         # Django åº”ç”¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ai/                       # AI æœåŠ¡æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ migrations/           # æ•°æ®åº“è¿ç§»
â”‚   â”‚   â”‚   â”œâ”€â”€ services/             # AI æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ cost_monitor.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ degradation.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ failover_service.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ health_check_service.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ health_monitor.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ key_manager.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ load_balancer.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ manager.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ model_discovery.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ monitoring_service.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ quality_assessor.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ rate_limiter.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ token_statistics.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ tutor.py
â”‚   â”‚   â”‚   â”œâ”€â”€ tests/                # AI æ¨¡å—æµ‹è¯•
â”‚   â”‚   â”‚   â”œâ”€â”€ admin.py
â”‚   â”‚   â”‚   â”œâ”€â”€ apps.py
â”‚   â”‚   â”‚   â”œâ”€â”€ models.py
â”‚   â”‚   â”‚   â”œâ”€â”€ monitoring_models.py
â”‚   â”‚   â”‚   â”œâ”€â”€ routing.py
â”‚   â”‚   â”‚   â”œâ”€â”€ serializers.py
â”‚   â”‚   â”‚   â”œâ”€â”€ tasks.py
â”‚   â”‚   â”‚   â”œâ”€â”€ urls.py
â”‚   â”‚   â”‚   â”œâ”€â”€ views.py
â”‚   â”‚   â”‚   â””â”€â”€ websocket_service.py
â”‚   â”‚   â”œâ”€â”€ api/                      # API æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ cache_middleware.py
â”‚   â”‚   â”‚   â”œâ”€â”€ cache_strategy.py
â”‚   â”‚   â”‚   â”œâ”€â”€ cache_views.py
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ articles/                 # æ–‡ç« ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ categories/               # åˆ†ç±»ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ common/                   # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ english/                  # è‹±è¯­å­¦ä¹ æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”‚   â”œâ”€â”€ serializers/
â”‚   â”‚   â”‚   â””â”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ jobs/                     # æ±‚èŒç®¡ç†
â”‚   â”‚   â”œâ”€â”€ links/                    # é“¾æ¥ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ rbac/                     # æƒé™æ§åˆ¶
â”‚   â”‚   â”œâ”€â”€ search/                   # æœç´¢åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ todos/                    # å¾…åŠäº‹é¡¹
â”‚   â”‚   â””â”€â”€ users/                    # ç”¨æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ feature_flags/                # åŠŸèƒ½å¼€å…³
â”‚   â”œâ”€â”€ tests/                        # åç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ Dockerfile                    # Docker æ„å»ºæ–‡ä»¶
â”‚   â”œâ”€â”€ manage.py                     # Django ç®¡ç†è„šæœ¬
â”‚   â”œâ”€â”€ pytest.ini                   # pytest é…ç½®
â”‚   â””â”€â”€ requirements.txt              # Python ä¾èµ–
â”œâ”€â”€ docs/                             # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ api/                          # API æ–‡æ¡£
â”‚   â”œâ”€â”€ deployment/                   # éƒ¨ç½²æ–‡æ¡£
â”‚   â””â”€â”€ development/                  # å¼€å‘æ–‡æ¡£
â”œâ”€â”€ e2e/                              # E2E æµ‹è¯•é…ç½®
â”œâ”€â”€ frontend/                         # Vue.js å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”‚   â”œâ”€â”€ api/                      # API æ¥å£å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ai.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ english.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ jobs.ts
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ components/               # Vue ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ai/                   # AI ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIAssistantChat.vue
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIConfigPanel.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â”œâ”€â”€ common/               # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BaseButton.vue
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BaseCard.vue
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BaseDialog.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â”œâ”€â”€ english/              # è‹±è¯­å­¦ä¹ ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ExpressionCard.vue
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LearningDashboard.vue
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LearningChart.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â”œâ”€â”€ jobs/                 # æ±‚èŒç®¡ç†ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/               # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AppHeader.vue
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AppSidebar.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AppFooter.vue
â”‚   â”‚   â”‚   â””â”€â”€ todos/                # å¾…åŠäº‹é¡¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ composables/              # Vue ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ useApi.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ useNotification.ts
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ directives/               # Vue æŒ‡ä»¤
â”‚   â”‚   â”œâ”€â”€ hooks/                    # React é£æ ¼çš„ hooks
â”‚   â”‚   â”œâ”€â”€ i18n/                     # å›½é™…åŒ–
â”‚   â”‚   â”‚   â”œâ”€â”€ locales/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ en.json
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ zh.json
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ mocks/                    # Mock æ•°æ®
â”‚   â”‚   â”œâ”€â”€ router/                   # Vue Router é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”‚   â””â”€â”€ routes.ts
â”‚   â”‚   â”œâ”€â”€ services/                 # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ aiService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ authService.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ englishService.ts
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ stores/                   # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ aiStore.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ authStore.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ englishStore.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ learningStore.ts
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ styles/                   # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ global.css
â”‚   â”‚   â”‚   â”œâ”€â”€ variables.css
â”‚   â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ utils/                    # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ format.ts
â”‚   â”‚   â”‚   â””â”€â”€ validation.ts
â”‚   â”‚   â”œâ”€â”€ views/                    # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIAssistant.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AIConfig.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Login.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Register.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Dashboard.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ english/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ExpressionLearning.vue
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LearningProgress.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Vocabulary.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ jobs/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ JobList.vue
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ JobDetail.vue
â”‚   â”‚   â”‚   â””â”€â”€ todos/
â”‚   â”‚   â”‚       â”œâ”€â”€ TodoList.vue
â”‚   â”‚   â”‚       â””â”€â”€ TodoDetail.vue
â”‚   â”‚   â”œâ”€â”€ App.vue                   # æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.ts                   # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ tests/                        # å‰ç«¯æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ e2e/                      # E2E æµ‹è¯•
â”‚   â”‚   â”‚   â”œâ”€â”€ idiomatic-expressions.spec.ts
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ integration/              # é›†æˆæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ selenium/                 # Selenium æµ‹è¯•
â”‚   â”‚   â””â”€â”€ unit/                     # å•å…ƒæµ‹è¯•
â”‚   â”‚       â”œâ”€â”€ components/
â”‚   â”‚       â”œâ”€â”€ stores/
â”‚   â”‚       â””â”€â”€ utils/
â”‚   â”œâ”€â”€ ci-reports/                   # CI æŠ¥å‘Š
â”‚   â”œâ”€â”€ playwright-report/            # Playwright æµ‹è¯•æŠ¥å‘Š
â”‚   â”œâ”€â”€ package.json                  # å‰ç«¯ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ vite.config.js                # Vite æ„å»ºé…ç½®
â”‚   â”œâ”€â”€ vitest.config.ts              # Vitest æµ‹è¯•é…ç½®
â”‚   â”œâ”€â”€ playwright.config.ts          # Playwright é…ç½®
â”‚   â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”‚   â””â”€â”€ tailwind.config.js            # Tailwind CSS é…ç½®
â”œâ”€â”€ htmlcov/                          # æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
â”œâ”€â”€ issues/                           # é—®é¢˜è·Ÿè¸ª
â”œâ”€â”€ k8s/                              # Kubernetes éƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ deployments/
â”‚   â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ configmaps/
â”‚   â””â”€â”€ ingress/
â”œâ”€â”€ mysql/                            # MySQL é…ç½®å’Œåˆå§‹åŒ–
â”‚   â”œâ”€â”€ init/
â”‚   â””â”€â”€ conf/
â”œâ”€â”€ nginx/                            # Nginx é…ç½®
â”‚   â”œâ”€â”€ nginx.conf
â”‚   â””â”€â”€ ssl/
â”œâ”€â”€ scripts/                          # éƒ¨ç½²å’Œç»´æŠ¤è„šæœ¬
â”‚   â”œâ”€â”€ deploy.sh
â”‚   â”œâ”€â”€ backup.sh
â”‚   â””â”€â”€ migrate.sh
â”œâ”€â”€ tests/                            # é¡¹ç›®çº§æµ‹è¯•
â”‚   â”œâ”€â”€ integration/
â”‚   â””â”€â”€ performance/
â”œâ”€â”€ .cursorrules                      # Cursor è§„åˆ™é…ç½®
â”œâ”€â”€ .cz.json                          # Commitizen é…ç½®
â”œâ”€â”€ .env                              # ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.example                      # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .flake8                           # Flake8 é…ç½®
â”œâ”€â”€ .gitignore                        # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .pre-commit-config.yaml           # Pre-commit é’©å­é…ç½®
â”œâ”€â”€ .releaserc.json                   # è¯­ä¹‰åŒ–ç‰ˆæœ¬å‘å¸ƒé…ç½®
â”œâ”€â”€ docker-compose.yml                # Docker Compose é…ç½®
â”œâ”€â”€ package.json                      # é¡¹ç›®æ ¹ä¾èµ–
â”œâ”€â”€ pyproject.toml                    # Python é¡¹ç›®é…ç½®
â””â”€â”€ README.md                         # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## æ ¸å¿ƒæ¨¡å—è¯¦è§£

### 1. å‰ç«¯æ¶æ„ (frontend/)
- **æŠ€æœ¯æ ˆ**: Vue 3 + TypeScript + Vite + Element Plus + Pinia
- **ç»„ä»¶åŒ–**: æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ç»„ä»¶ (ai/, english/, jobs/, todos/)
- **çŠ¶æ€ç®¡ç†**: Pinia stores ç®¡ç†å…¨å±€çŠ¶æ€
- **è·¯ç”±ç®¡ç†**: Vue Router å®ç° SPA è·¯ç”±
- **æµ‹è¯•ä½“ç³»**: Vitest (å•å…ƒ) + Playwright (E2E) + Selenium (é›†æˆ)
- **æ„å»ºå·¥å…·**: Vite æä¾›å¿«é€Ÿå¼€å‘å’Œæ„å»º

### 2. åç«¯æ¶æ„ (backend/)
- **æŠ€æœ¯æ ˆ**: Django + Django REST Framework + Celery + Redis
- **åº”ç”¨æ¨¡å—**: æŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ† (ai/, english/, jobs/, users/ ç­‰)
- **AI æœåŠ¡**: å®Œæ•´çš„ AI æœåŠ¡ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«è´Ÿè½½å‡è¡¡ã€å¥åº·ç›‘æ§ã€æ•…éšœè½¬ç§»
- **æ•°æ®åº“**: MySQL ä¸»æ•°æ®åº“ + Redis ç¼“å­˜
- **å¼‚æ­¥ä»»åŠ¡**: Celery å¤„ç†åå°ä»»åŠ¡
- **API è®¾è®¡**: RESTful API + WebSocket å®æ—¶é€šä¿¡

### 3. AI ç®¡é“ (ai_pipeline/)
- **æ¨¡å‹ç®¡ç†**: AI æ¨¡å‹çš„åŠ è½½ã€é…ç½®å’Œç‰ˆæœ¬ç®¡ç†
- **æ•°æ®å¤„ç†**: è¾“å…¥é¢„å¤„ç†å’Œè¾“å‡ºåå¤„ç†
- **æœåŠ¡é›†æˆ**: ä¸åç«¯ AI æœåŠ¡æ¨¡å—é›†æˆ

### 4. éƒ¨ç½²ä¸è¿ç»´
- **å®¹å™¨åŒ–**: Docker + Docker Compose æœ¬åœ°å¼€å‘
- **ç¼–æ’**: Kubernetes ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- **CI/CD**: GitHub Actions è‡ªåŠ¨åŒ–æµæ°´çº¿
- **ç›‘æ§**: é›†æˆç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ
- **è´Ÿè½½å‡è¡¡**: Nginx åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡

### 5. å¼€å‘å·¥å…·é“¾
- **ä»£ç è´¨é‡**: ESLint, Prettier, Black, isort, flake8
- **æµ‹è¯•è¦†ç›–**: å‰åç«¯å®Œæ•´æµ‹è¯•è¦†ç›–
- **ç‰ˆæœ¬æ§åˆ¶**: Git + è¯­ä¹‰åŒ–ç‰ˆæœ¬ç®¡ç†
- **é¡¹ç›®ç®¡ç†**: TaskMaster AI æ™ºèƒ½é¡¹ç›®ç®¡ç†
- **IDE é›†æˆ**: Cursor IDE æ·±åº¦é›†æˆ

## åŠŸèƒ½æ¨¡å—è¯´æ˜

### è‹±è¯­å­¦ä¹ æ¨¡å— (english/)
- ä¹ è¯­è¡¨è¾¾å¼å­¦ä¹ å’Œç»ƒä¹ 
- å­¦ä¹ è¿›åº¦è·Ÿè¸ªå’Œç»Ÿè®¡
- ä¸ªæ€§åŒ–å­¦ä¹ æ¨è
- å‘éŸ³ç»ƒä¹ å’Œè¯„ä¼°

### AI åŠ©æ‰‹æ¨¡å— (ai/)
- å¤šæ¨¡å‹æ”¯æŒå’Œæ™ºèƒ½åˆ‡æ¢
- å®æ—¶å¯¹è¯å’Œä¸Šä¸‹æ–‡ç®¡ç†
- æˆæœ¬ç›‘æ§å’Œä½¿ç”¨ç»Ÿè®¡
- æœåŠ¡å¥åº·ç›‘æ§å’Œæ•…éšœæ¢å¤

### æ±‚èŒç®¡ç†æ¨¡å— (jobs/)
- èŒä½ä¿¡æ¯ç®¡ç†
- ç®€å†å’Œæ±‚èŒè¿›åº¦è·Ÿè¸ª
- é¢è¯•å®‰æ’å’Œè®°å½•

### å¾…åŠäº‹é¡¹æ¨¡å— (todos/)
- ä»»åŠ¡åˆ›å»ºå’Œç®¡ç†
- ä¼˜å…ˆçº§å’Œæˆªæ­¢æ—¥æœŸ
- è¿›åº¦è·Ÿè¸ªå’Œæé†’

### ç”¨æˆ·ä¸æƒé™æ¨¡å— (users/, rbac/)
- ç”¨æˆ·è®¤è¯å’Œæˆæƒ
- è§’è‰²å’Œæƒé™ç®¡ç†
- ç”¨æˆ·é…ç½®å’Œåå¥½è®¾ç½®

## æŠ€æœ¯ç‰¹è‰²

1. **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: é‡‡ç”¨æœ€æ–°çš„å‰åç«¯æŠ€æœ¯
2. **å¾®æœåŠ¡æ¶æ„**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤
3. **AI æ·±åº¦é›†æˆ**: å®Œæ•´çš„ AI æœåŠ¡ç®¡ç†å’Œç›‘æ§ä½“ç³»
4. **å®Œæ•´æµ‹è¯•è¦†ç›–**: å•å…ƒã€é›†æˆã€E2E å…¨æ–¹ä½æµ‹è¯•
5. **è‡ªåŠ¨åŒ–éƒ¨ç½²**: CI/CD æµæ°´çº¿å’Œå®¹å™¨åŒ–éƒ¨ç½²
6. **æ™ºèƒ½é¡¹ç›®ç®¡ç†**: TaskMaster AI è¾…åŠ©å¼€å‘æµç¨‹
7. **å›½é™…åŒ–æ”¯æŒ**: å¤šè¯­è¨€ç•Œé¢å’Œå†…å®¹
8. **æ€§èƒ½ä¼˜åŒ–**: ç¼“å­˜ç­–ç•¥ã€æ‡’åŠ è½½ã€ä»£ç åˆ†å‰²
9. **å®‰å…¨ä¿éšœ**: è®¤è¯æˆæƒã€æ•°æ®åŠ å¯†ã€å®‰å…¨å®¡è®¡
10. **ç›‘æ§è¿ç»´**: å®Œæ•´çš„ç›‘æ§ã€æ—¥å¿—å’Œå‘Šè­¦ä½“ç³»

## å¼€å‘ç¯å¢ƒæ­å»º

1. **å‰ç«¯å¼€å‘**:
   ```bash
   cd frontend
   npm install
   npm run dev
   ```

2. **åç«¯å¼€å‘**:
   ```bash
   cd backend
   pip install -r requirements.txt
   python manage.py runserver
   ```

3. **å®Œæ•´ç¯å¢ƒ**:
   ```bash
   docker-compose up -d
   ```

## æµ‹è¯•è¿è¡Œ

1. **å‰ç«¯æµ‹è¯•**:
   ```bash
   npm run test:unit    # å•å…ƒæµ‹è¯•
   npm run test:e2e     # E2E æµ‹è¯•
   ```

2. **åç«¯æµ‹è¯•**:
   ```bash
   pytest               # å•å…ƒæµ‹è¯•
   python manage.py test # Django æµ‹è¯•
   ```

è¿™ä¸ªé¡¹ç›®å±•ç°äº†ç°ä»£ Web åº”ç”¨å¼€å‘çš„æœ€ä½³å®è·µï¼Œé›†æˆäº† AI æŠ€æœ¯ã€å®Œæ•´çš„æµ‹è¯•ä½“ç³»ã€è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œæ™ºèƒ½é¡¹ç›®ç®¡ç†ï¼Œæ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æŠ€æœ¯å…ˆè¿›çš„ä¼ä¸šçº§åº”ç”¨å¹³å°ã€‚
````

## é¡¹ç›®è®¾è®¡æ–¹å‘

### é¡¹ç›®è§„åˆ™æ–‡ä»¶è®¾è®¡

```
.cursor/rules/
â”œâ”€â”€ code_quality.mdc.keep      # ä»£ç è´¨é‡æ ‡å‡†
â”œâ”€â”€ django_split.mdc.keep      # Djangoæ¶æ„è§„èŒƒ
â”œâ”€â”€ project_startup.mdc.keep   # é¡¹ç›®å¯åŠ¨è§„èŒƒ âœ…æ–°å¢
â”œâ”€â”€ security_scan.mdc.keep     # å®‰å…¨æ‰«æè§„åˆ™
â”œâ”€â”€ test_coverage.mdc.keep     # æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
â””â”€â”€ vue_component.mdc.keep     # Vueç»„ä»¶è§„èŒƒ
```

### ~~é¦–å…ˆä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ~~

~~ä½¿ç”¨ requirements.txt æ–‡ä»¶ï¼Œåœ¨å¦ä¸€å°è®¾å¤‡ä¸Šçš„æ­£ç¡®æ“ä½œæµç¨‹~~

```css
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd Bravo

# 2. åˆ›å»ºæ–°çš„è™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# 3. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows (Git Bash)
source venv/Scripts/activate
# Windows (PowerShell)
venv\Scripts\Activate.ps1
# Linux/macOS
source venv/bin/activate

# 4. å‡çº§ pip
python -m pip install --upgrade pip

# 5. å®‰è£…ä¾èµ–
cd backend
pip install -r requirements/local.txt

# 6. é…ç½®ç¯å¢ƒå˜é‡
cp .envs/env.local.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®æ­£ç¡®çš„é…ç½®

# 7. åˆå§‹åŒ–æ•°æ®åº“
python manage.py migrate
python manage.py createsuperuser
```

### ä½¿ç”¨dockerå¼€å‘ï¼Œä¸èµ°ä¸»æœºå¼€å‘ï¼Œä¿è¯é¡¹ç›®ç¯å¢ƒä¸€è‡´æ€§

### æœåŠ¡æ¦‚è§ˆ

| æœåŠ¡  | é•œåƒ             | ç«¯å£      | å®¹å™¨å           |
| ----- | ---------------- | --------- | ---------------- |
| MySQL | mysql:8.0        | 3307:3306 | bravo-mysql-1    |
| Redis | redis:7-alpine   | 6379:6379 | bravo-redis-1    |
| åç«¯  | python:3.11-slim | 8000:8000 | bravo-backend-1  |
| å‰ç«¯  | node:18-alpine   | 3000:3000 | bravo-frontend-1 |

#### ç¯å¢ƒå˜é‡é…ç½®

| å˜é‡å       | å€¼                                   |
| ------------ | ------------------------------------ |
| DATABASE_URL | mysql://bravo:bravo@mysql:3306/bravo |
| REDIS_URL    | redis://redis:6379/0                 |
| VITE_API_URL | http://localhost:8000                |

#### æ•°æ®å·æ˜ å°„

| æœåŠ¡  | å·åç§°       | å®¹å™¨å†…è·¯å¾„        | å®¿ä¸»æœºè·¯å¾„ | ç”¨é€”            |
| ----- | ------------ | ----------------- | ---------- | --------------- |
| MySQL | mysql_data   | /var/lib/mysql    | è‡ªåŠ¨ç®¡ç†   | MySQLæ•°æ®æŒä¹…åŒ– |
| Redis | redis_data   | /data             | è‡ªåŠ¨ç®¡ç†   | Redisæ•°æ®æŒä¹…åŒ– |
| åç«¯  | backend_logs | /app/logs         | è‡ªåŠ¨ç®¡ç†   | åç«¯æ—¥å¿—å­˜å‚¨    |
| åç«¯  | ç»‘å®šæŒ‚è½½     | /app              | ./backend  | ä»£ç å®æ—¶åŒæ­¥    |
| å‰ç«¯  | ç»‘å®šæŒ‚è½½     | /app              | ./frontend | ä»£ç å®æ—¶åŒæ­¥    |
| å‰ç«¯  | åŒ¿åå·       | /app/node_modules | è‡ªåŠ¨ç®¡ç†   | ä¾èµ–éš”ç¦»        |

#### å­˜å‚¨ä½ç½®

- Windows: \\wsl$\docker-desktop-data\data\docker\volumes\
- æŸ¥çœ‹å‘½ä»¤: docker volume ls å’Œ docker volume inspect å·å

#### å…³é”®æ–‡ä»¶

docker-compose.yml å¼€å‘ç¯å¢ƒç¼–æ’

backend/Dockerfile.dev åç«¯å¼€å‘é•œåƒ

frontend/Dockerfile.dev å‰ç«¯å¼€å‘é•œåƒ

.env.local.example ç¯å¢ƒå˜é‡æ¨¡æ¿

##### åç«¯ä¾èµ–

- ğŸ“‹ æ–‡ä»¶ç»“æ„

```
backend/requirements/
â”œâ”€â”€ base.txt      # åŸºç¡€ä¾èµ–ï¼ˆæ‰€æœ‰ç¯å¢ƒå…±ç”¨ï¼‰
â”œâ”€â”€ local.txt     # æœ¬åœ°å¼€å‘ç¯å¢ƒ
â”œâ”€â”€ prod.txt      # ç”Ÿäº§ç¯å¢ƒ
â””â”€â”€ test.txt      # æµ‹è¯•ç¯å¢ƒ
```

- ğŸ”§ å„ç¯å¢ƒè¯´æ˜

| ç¯å¢ƒæ–‡ä»¶    | ä½¿ç”¨å‘½ä»¤                   | æ ¸å¿ƒåŠŸèƒ½ | å…³é”®ä¾èµ–                                |
| ----------- | -------------------------- | -------- | --------------------------------------- |
| `base.txt`  | `pip install -r base.txt`  | åŸºç¡€ä¾èµ– | Django 4.2.7, MySQL, Redis, Celery, JWT |
| `local.txt` | `pip install -r local.txt` | æœ¬åœ°å¼€å‘ | debug-toolbar, ä»£ç è´¨é‡å·¥å…·, æµ‹è¯•æ¡†æ¶   |
| `prod.txt`  | `pip install -r prod.txt`  | ç”Ÿäº§éƒ¨ç½² | gunicorn, ç›‘æ§, å®‰å…¨ä¼˜åŒ–                |
| `test.txt`  | `pip install -r test.txt`  | æµ‹è¯•ç¯å¢ƒ | pytest, æµ‹è¯•æ•°æ®, æ€§èƒ½æµ‹è¯•              |

#### ğŸ“‚ æ–‡ä»¶ç»“æ„

- ğŸ¯ ä½¿ç”¨åœºæ™¯

å¼€å‘ç¯å¢ƒ : pip install -r requirements/local.txt

ç”Ÿäº§ç¯å¢ƒ : pip install -r requirements/prod.txt

æµ‹è¯•ç¯å¢ƒ : pip install -r requirements/test.txt

- ğŸ”„ ä¾èµ–ç»§æ‰¿å…³ç³»

local.txt â†’ ç»§æ‰¿ base.txt

prod.txt â†’ ç»§æ‰¿ base.txt

test.txt â†’ ç»§æ‰¿ base.txt

#### å¯åŠ¨æ­¥éª¤

- 1.cp .envs/.env.local.example .env.local
- 2.docker-compose up -d
- 3.è®¿é—® http://localhost:3000

#### è®¿é—®åœ°å€

- ğŸŒ å‰ç«¯: http://localhost:3000
- ğŸ”§ åç«¯: http://localhost:8000
- ğŸ“Š æ•°æ®åº“: localhost:3307
- ğŸ”„ Redis: localhost:6379

### å®Œå–„äº§å“æ–‡æ¡£å¹¶ä¸”æŒ‰ç…§æ¨¡å—ä¿å­˜ï¼Œå¼€å‘å“ªä¸ªæ¨¡å—ï¼Œå“ªä¸ªåŠŸèƒ½å°±å®Œå–„å“ªä¸ªäº§å“æ–‡æ¡£

ã€Œäº§å“/æŒ‡å¯¼/æµ‹è¯•æŠ¥å‘Šã€â‰  æºç ï¼Œå…¨éƒ¨æ”¾åˆ° docs/ é¡¶å±‚ç›®å½•ï¼ŒæŒ‰ã€Œå—ä¼—+æ—¶é—´ã€åˆ†çº§ï¼ŒGit ä»…è·Ÿè¸ª Markdown/PDFï¼ŒäºŒè¿›åˆ¶æˆæœèµ°å¯¹è±¡å­˜å‚¨ï¼ŒCI è‡ªåŠ¨å‘å¸ƒåˆ° gh-pages æˆ–å†…éƒ¨ Wikiã€‚

```
Bravo/                          # ä»“åº“æ ¹
â”œâ”€â”€ docs/                       # âœ å…¨éƒ¨éæºç æ–‡æ¡£
â”‚   â”œâ”€â”€ 00_product/             # âœ äº§å“éœ€æ±‚ä¾§
â”‚   â”‚   â”œâ”€â”€ PRD_v1.0.md         # âœ äº§å“éœ€æ±‚æ–‡æ¡£ï¼ˆMarkdownï¼‰
â”‚   â”‚   â”œâ”€â”€ PRD_v2.0.md
â”‚   â”‚   â””â”€â”€ feature_flags.md    # âœ åŠŸèƒ½å¼€å…³åœ°å›¾
â”‚   â”œâ”€â”€ 01_guideline/           # âœ æŒ‡å¯¼æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ onboarding.md       # âœ æ–°äºº onboarding
â”‚   â”‚   â”œâ”€â”€ api_guideline.md    # âœ API è®¾è®¡è§„èŒƒ
â”‚   â”‚   â”œâ”€â”€ commit_rules.md     # âœ æäº¤æ¶ˆæ¯çº¦å®š
â”‚   â”‚   â””â”€â”€ release_process.md  # âœ å‘ç‰ˆæµç¨‹
â”‚   â”œâ”€â”€ 02_test_report/         # âœ æµ‹è¯•æˆæœ
â”‚   â”‚   â”œâ”€â”€ 2024-09-04_sprint1.md # âœ è¿­ä»£æµ‹è¯•æŠ¥å‘Šï¼ˆMarkdownï¼‰
â”‚   â”‚   â”œâ”€â”€ 2024-09-04_coverage.html -> ../tests/reports/coverage/index.html  # âœ è½¯é“¾åˆ° CI ç”Ÿæˆé¡µ
â”‚   â”‚   â””â”€â”€ allure/               # âœ è½¯é“¾åˆ° tests/allure-results
â”‚   â””â”€â”€ 03_operate/               # âœ è¿ç»´ä¾§
â”‚       â”œâ”€â”€ runbook.md            # âœ æ•…éšœ playbook
â”‚       â”œâ”€â”€ grafana_dashboard.md  # âœ ç›‘æ§é¢æ¿è¯´æ˜
â”‚       â””â”€â”€ oncall.md             # âœ å€¼ç­è½®å€¼è¡¨
â”œâ”€â”€ tests/                        # âœ CI ç”Ÿæˆçš„ html/soft-link
â”‚   â”œâ”€â”€ coverage/
â”‚   â”‚   â””â”€â”€ index.html            # âœ pytest-cov / vitest ç”Ÿæˆ
â”‚   â””â”€â”€ allure-results/
â”‚       â””â”€â”€ index.html            # âœ Allure æŠ¥å‘Š
â””â”€â”€ .github/
    â””â”€â”€ workflows/
        ci.yml                    # âœ CI æ­¥éª¤ï¼šç”ŸæˆæŠ¥å‘Š â†’ æ¨ gh-pages
```

#### æ–‡æ¡£ç²’åº¦ä¸å‘½åè§„åˆ™

| ç±»å‹       | ç²’åº¦    | å‘½åæ¨¡æ¿                    | è·Ÿè¸ªæ ¼å¼             |
| :--------- | :------ | :-------------------------- | :------------------- |
| PRD        | è¿­ä»£    | `PRD_v{major}.{minor}.md`   | Markdown             |
| æµ‹è¯•æŠ¥å‘Š   | è¿­ä»£/å‘¨ | `{YYYY-MM-DD}_{sprintX}.md` | Markdown + è½¯é“¾ HTML |
| æ“ä½œæ‰‹å†Œ   | åŠŸèƒ½çº§  | `{module}_runbook.md`       | Markdown             |
| å¯è§†åŒ–æŠ¥å‘Š | æ¯æ¬¡ CI | `index.html`ï¼ˆè‡ªåŠ¨è¦†ç›–ï¼‰    | HTMLï¼ˆè½¯é“¾ï¼‰         |

#### CI è‡ªåŠ¨åŒ–ï¼ˆGitHub Actions ç‰‡æ®µï¼‰

```yaml
- name: Generate docs
  run: |
    pytest --cov --cov-report=html:docs/02_test_report/coverage
    allure generate tests/allure-results -o docs/02_test_report/allure --clean

- name: Deploy Docs to GitHub Pages
  uses: peaceiris/actions-gh-pages@v3
  with:
    github_token: ${{ secrets.GITHUB_TOKEN }}
    publish_dir: ./docs
```

â†’ æ¯æ¬¡ push è‡ªåŠ¨æ›´æ–°**æµ‹è¯•è¦†ç›–ç‡ + Allure æŠ¥å‘Š**åœ¨çº¿æµè§ˆåœ°å€ã€‚

#### äºŒè¿›åˆ¶å¤§æ–‡ä»¶ï¼ˆ>5MBï¼‰å¤„ç†

1. æœ¬åœ°ï¼š`docs/02_test_report/2024-09-04_load-test.pdf`

2. CI ä¸Šä¼ äº‘å­˜å‚¨ï¼ˆS3/OSSï¼‰â†’ è¿”å›å…¬å¼€ URL

3. Markdown åªç•™é“¾æ¥ï¼š

   ```markdown
   ## è´Ÿè½½æµ‹è¯•æŠ¥å‘Š

   [ä¸‹è½½ PDF](https://bravo-reports.oss-cn-shanghai.aliyuncs.com/2024-09-04_load-test.pdf)
   ```

4. Git åªè¿½è¸ª Markdownï¼Œä»“åº“ä½“ç§¯ä¸è†¨èƒ€ã€‚

#### å¿«é€Ÿå¼€å§‹ï¼ˆä¸€æ¬¡æ€§å‘½ä»¤ï¼‰

```bash
mkdir -p docs/{00_product,01_guideline,02_test_report,03_operate}
touch docs/00_product/PRD_v1.0.md \
      docs/01_guideline/onboarding.md \
      docs/02_test_report/2024-09-04_sprint1.md \
      docs/03_operate/runbook.md
git add docs/
git commit -m "docs: init doc skeleton per best practice"
```

â†’ åç»­ CI è‡ªåŠ¨è½¯é“¾/å‘å¸ƒï¼Œ**é›¶äººå·¥ç»´æŠ¤ HTML æŠ¥å‘Š**ã€‚

### å®Œå–„é¡¹ç›®çš„ä»£ç å‡½æ•°ã€å˜é‡ã€ä»£ç æ–‡ä»¶ï¼Œæ•°æ®åº“è¡¨ã€å­—æ®µç­‰ç­‰çš„å‘½åè§„åˆ™ï¼Œå°é©¼å³°ã€å¤§é©¼å³°å‘½åã€‚

### ä½¿ç”¨task masterã€figmaã€pytest-mcp-serverã€playwrightç­‰ç­‰MCPå·¥å…·

### è®¾è®¡é¡¹ç›®æ¡†æ¶ï¼Œæ ‡å®šé‡è¦æ–‡ä»¶GUIDEã€READEMEã€FAQç­‰ç­‰

### ä½¿ç”¨Figma MCPå·¥å…·è®¾è®¡å‰ç«¯ç•Œé¢

### æ‰€ä½¿ç”¨åº“ã€ä¾èµ–è‡ªåŠ¨æ›´æ–°åˆ°requirements.txtã€package.jsonï¼Œå¼€å‘ç¯å¢ƒä¸€é”®å®‰è£…

- `pip install` åªä¼šæŠŠåŒ…è£…è¿›**å½“å‰ç¯å¢ƒ**ï¼›
  æƒ³è®© `requirements.txt` åŒæ­¥ï¼Œå¿…é¡»å†æ‰§è¡Œ `pip freeze > requirements.txt`ï¼ˆæˆ–æ‰‹å·¥ç¼–è¾‘ã€ç”¨ pip-toolsï¼‰ã€‚

- **å›¢é˜Ÿè§„èŒƒ**ï¼šä¸€å¾‹ç”¨ `npm install åŒ…å` / `npm uninstall åŒ…å`ï¼Œç¦æ­¢æ‰‹åŠ¨æ”¹ `node_modules`ã€‚
- **æäº¤ä»£ç å‰**æ‰«ä¸€çœ¼ `git diff package.json package-lock.json`ï¼Œç¡®è®¤ä¾èµ–å˜æ›´ç¬¦åˆé¢„æœŸã€‚

#### ä¾èµ–ç®¡ç†æœ€ä½³å®è·µ

##### æ·»åŠ æ–°åŒ…çš„æµç¨‹ï¼š

1. å¼€å‘ç¯å¢ƒæ·»åŠ åŒ…ï¼š

```
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/Scripts/activate

# å®‰è£…æ–°åŒ…
pip install new-package==1.0.0

# æ›´æ–° requirements/local.txt
pip freeze > requirements/current.txt
# æ‰‹åŠ¨ç¼–è¾‘ local.txt æ·»åŠ æ–°åŒ…

# æäº¤æ›´æ”¹
git add backend/requirements/local.txt
git commit -m "feat: æ·»åŠ  new-package ç”¨äºå¼€å‘ç¯å¢ƒ"
```

2. æµ‹è¯•ç¯å¢ƒæ·»åŠ åŒ…ï¼š

```
# åœ¨æµ‹è¯•ç¯å¢ƒä¸­å®‰è£…
pip install -r requirements/test.txt
pip install new-test-package==1.0.0

# æ›´æ–° requirements/test.txt
# æ‰‹åŠ¨æ·»åŠ æ–°åŒ…åˆ° test.txt

# æäº¤æ›´æ”¹
git add backend/requirements/test.txt
git commit -m "test: æ·»åŠ  new-test-package ç”¨äºæµ‹è¯•"
```

3. ç”Ÿäº§ç¯å¢ƒæ·»åŠ åŒ…ï¼š

```
# åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å®‰è£…
pip install -r requirements/prod.txt
pip install new-prod-package==1.0.0

# æ›´æ–° requirements/prod.txt
# æ‰‹åŠ¨æ·»åŠ æ–°åŒ…åˆ° prod.txt

# æäº¤æ›´æ”¹
git add backend/requirements/prod.txt
git commit -m "prod: æ·»åŠ  new-prod-package ç”¨äºç”Ÿäº§ç¯å¢ƒ"
```

##### âš ï¸ æ³¨æ„äº‹é¡¹ï¼š

1. ç‰ˆæœ¬é”å®šï¼šå§‹ç»ˆä½¿ç”¨å…·ä½“ç‰ˆæœ¬å·ï¼Œé¿å… >= æˆ– ~=

1. ç¯å¢ƒéš”ç¦»ï¼šä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„ requirements æ–‡ä»¶

1. ä¾èµ–å†²çªï¼šå®šæœŸæ£€æŸ¥ä¾èµ–å†²çªï¼Œä½¿ç”¨ pip check

1. å®‰å…¨æ›´æ–°ï¼šå®šæœŸæ›´æ–°å®‰å…¨ç›¸å…³çš„åŒ…

1. æ–‡æ¡£è®°å½•ï¼šåœ¨æäº¤ä¿¡æ¯ä¸­è¯´æ˜æ·»åŠ åŒ…çš„åŸå› 

### Git commit å¤‡æ³¨æœ€ä½³å®è·µ

**"ä¸€è¡Œæ‘˜è¦ + ç©ºè¡Œ + è¯¦è¿°ï¼ˆå¯é€‰ï¼‰ + å…ƒæ•°æ®ï¼ˆå¯é€‰ï¼‰"**ï¼Œç”¨çº¦å®šå¼æäº¤ï¼ˆConventional Commitsï¼‰+ 50/72 æ¢è¡Œè§„åˆ™ï¼ŒCI èƒ½è‡ªåŠ¨å‘ç‰ˆã€Changelog è‡ªåŠ¨ç”Ÿæˆã€‚

#### æ¨¡æ¿ç»“æ„

```text
<type>(<scope>): <subject>          â† 50 å­—ç¬¦å†…ï¼Œä¸­è‹±æ–‡å‡å¯

<body>                              â† 72 å­—ç¬¦è‡ªåŠ¨æ¢è¡Œï¼Œè§£é‡Š"ä¸ºä»€ä¹ˆ"è€Œä¸æ˜¯"æ€ä¹ˆåš"

<footer>                            â† å…³è” Issueã€PRã€Breaking Change
```

#### ç±»å‹è¯´æ˜ï¼ˆAngular æ ‡å‡†ï¼‰

| ç±»å‹     | è¯´æ˜                             |
| :------- | :------------------------------- |
| feat     | æ–°åŠŸèƒ½ï¼ˆfeatureï¼‰                |
| fix      | ä¿®å¤ Bug                         |
| docs     | ä»…æ–‡æ¡£å˜æ›´                       |
| style    | ä»£ç æ ¼å¼ã€ç¼ºå°‘åˆ†å·ç­‰æ— åŠŸèƒ½å˜åŒ–   |
| refactor | ä»£ç é‡æ„ï¼Œæ—¢ä¸æ˜¯ fix ä¹Ÿä¸æ˜¯ feat |
| perf     | æ€§èƒ½ä¼˜åŒ–                         |
| test     | æµ‹è¯•ç›¸å…³ï¼ˆå•å…ƒã€E2Eã€é‡æ„æµ‹è¯•ï¼‰  |
| build    | æ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–å˜åŠ¨           |
| ci       | CI/CD è„šæœ¬ã€é…ç½®å˜åŠ¨             |
| chore    | æ‚é¡¹ï¼ˆå‡çº§ä¾èµ–ã€æ”¹ Makefile ç­‰ï¼‰ |
| revert   | å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬                 |

---

#### ç¤ºä¾‹ 1ï¼ˆåç«¯ï¼‰

```text
feat(users): æ·»åŠ æ‰‹æœºå·éªŒè¯ç ç™»å½•

- æ–°å¢ SMSClient å°è£…é˜¿é‡Œäº‘çŸ­ä¿¡
- éªŒè¯ç  5 åˆ†é’Ÿå†…æœ‰æ•ˆï¼Œ3 æ¬¡é”™è¯¯é”å®š 1 å°æ—¶
- æ”¯æŒæµ‹è¯•ç¯å¢ƒ mock å¼€å…³

Closes #123
```

#### ç¤ºä¾‹ 2ï¼ˆå‰ç«¯ï¼‰

```text
fix(english): ä¿®å¤è¯æ±‡å¡ç‰‡ç¿»è½¬åŠ¨ç”»å¡é¡¿

ä½¿ç”¨ transform-gpu ä»£æ›¿ left/topï¼Œå‡å°‘é‡æ’

BREAKING CHANGE: ç§»é™¤ --card-flip-left å˜é‡ï¼Œä¸»é¢˜åŒ…éœ€åŒæ­¥æ›´æ–°

See #456
```

#### ç¤ºä¾‹ 3ï¼ˆæ‚é¡¹ï¼‰

```text
chore(deps): å‡çº§ Django 4.2 â†’ 5.0

- å®˜æ–¹ LTS æ”¯æŒè‡³ 2028
- ç§»é™¤å·²å¼ƒç”¨ url() å†™æ³•

Refs: https://docs.djangoproject.com/en/5.0/releases/5.0/
```

---

#### 7 æ¡é»„é‡‘è§„åˆ™

1. é¦–å­—æ¯å°å†™ã€å¥æœ«æ— å¥å·
2. æ‘˜è¦ â‰¤ 50 å­—ç¬¦ï¼›Body â‰¤ 72 å­—ç¬¦è‡ªåŠ¨æ¢è¡Œ
3. ç”¨ç°åœ¨æ—¶æ€ï¼š"æ·»åŠ "è€Œé"æ·»åŠ äº†"
4. é¦–è¡Œå†™"åšäº†ä»€ä¹ˆ"ï¼ŒBody å†™"ä¸ºä»€ä¹ˆåš"
5. å…³è” Issueï¼š`Closes #123` æˆ– `Fixes #456`
6. Breaking Change å¿…é¡»ä»¥ `BREAKING CHANGE:` å¼€å¤´
7. æäº¤å‰ç”¨ `git commit -v` æŸ¥çœ‹ diffï¼Œç¡®ä¿æ— è°ƒè¯•ä»£ç 

---

#### è‡ªåŠ¨åŒ–æ”¶ç›Š

- CI è¯†åˆ« `feat`/`fix` è‡ªåŠ¨æ‰“ Tag å‘ç‰ˆï¼ˆsemantic-releaseï¼‰
- è‡ªåŠ¨ç”Ÿæˆ CHANGELOG.md
- IDE / Git GUI é¦–è¡Œæˆªæ–­æ˜¾ç¤ºï¼Œ50 å­—ç¬¦å†…æœ€ç¾è§‚

---

#### æ‡’äººå·¥å…·

```bash
# å…¨å±€å®‰è£… commitizen â†’ äº¤äº’å¼å¡«å†™
npm i -g commitizen cz-conventional-changelog
echo '{ "path": "cz-conventional-changelog" }' > ~/.czrc
# ä½¿ç”¨
git cz
```

### ä½¿ç”¨task masterç”Ÿæˆä»»åŠ¡æ—¶ï¼Œäº§å“æ–‡æ¡£å­˜æ”¾ä»¥åŠä»»åŠ¡æ–‡ä»¶å­˜æ”¾åˆ†å±‚ï¼Œåˆ†ç›®å½•ï¼Œå‘½åè§„åˆ™ç»Ÿä¸€

## æµ‹è¯•ä½“ç³»å»ºè®¾

### æµ‹è¯•ç›®å½•æ¶æ„è®¾è®¡

1. å‰ç«¯ã€Œå°±è¿‘åŸåˆ™ã€+åç«¯ã€Œå°±è¿‘åŸåˆ™ã€
2. ç»Ÿä¸€æ”¶å£åˆ° `tests/` æ ¹ç›®å½•åšåˆ†å±‚æ±‡æ€»ï¼ˆCI æŠ¥å‘Šã€æ€§èƒ½ã€è·¨ç«¯ E2Eï¼‰
3. æ–‡ä»¶çº§æ¸…å•ï¼šæ¯ä¸ªç›®å½•è¯¥æ”¾ä»€ä¹ˆæµ‹è¯•æ–‡ä»¶â†’ç›´æ¥ç…§æŠ„å³å¯

```python
Bravo/                          # é¡¹ç›®æ ¹
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ apps/
â”‚   â”‚   â””â”€â”€ users/
â”‚   â”‚       â”œâ”€â”€ models.py
â”‚   â”‚       â”œâ”€â”€ views.py
â”‚   â”‚       â”œâ”€â”€ tests/            # åç«¯ï¼šDjango å°±è¿‘å•å…ƒæµ‹è¯•
â”‚   â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚       â”‚   â”œâ”€â”€ test_models.py
â”‚   â”‚       â”‚   â”œâ”€â”€ test_views.py
â”‚   â”‚       â”‚   â””â”€â”€ test_integration.py
â”‚   â”œâ”€â”€ tests/                    # åç«¯ï¼šé¡¶å±‚æ±‡æ€»ï¼ˆå¯é€‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ integration/          # è·¨ app é›†æˆ
â”‚   â”‚   â”‚   â””â”€â”€ test_user_flow.py
â”‚   â”‚   â”œâ”€â”€ performance/          # Locust/k6
â”‚   â”‚   â”‚   â””â”€â”€ locustfile.py
â”‚   â”‚   â””â”€â”€ factories/            # Factory Boy å…±äº«
â”‚   â”‚       â””â”€â”€ user_factory.py
â”‚   â””â”€â”€ pytest.ini
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseButton.vue
â”‚   â”‚   â”‚   â””â”€â”€ BaseButton.spec.ts  # å‰ç«¯ï¼šå°±è¿‘å•å…ƒ
â”‚   â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.spec.ts       # å‰ç«¯ï¼šå°±è¿‘é›†æˆ
â”‚   â”‚   â”‚   â””â”€â”€ Login.e2e.ts        # å‰ç«¯ï¼šå°±è¿‘ E2E
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ format.ts
â”‚   â”‚       â””â”€â”€ format.spec.ts
â”‚   â””â”€â”€ tests/                      # å‰ç«¯ï¼šé¡¶å±‚æ±‡æ€»
â”‚       â”œâ”€â”€ unit/
â”‚       â”‚   â””â”€â”€ setup.ts
â”‚       â”œâ”€â”€ e2e/
â”‚       â”‚   â”œâ”€â”€ playwright.config.ts
â”‚       â”‚   â””â”€â”€ flows/
â”‚       â”‚       â””â”€â”€ auth.flow.e2e.ts
â”‚       â””â”€â”€ coverage/
â”‚           â””â”€â”€ vitest.config.ts
â””â”€â”€ tests/                          # é¡¹ç›®çº§æ±‡æ€»ï¼ˆå‰åç«¯ä¸€èµ·è·‘ï¼‰
    â”œâ”€â”€ integration/               # è·¨ç«¯ API â†” UI é›†æˆ
    â”‚   â””â”€â”€ test_user_end_to_end.py
    â”œâ”€â”€ system/                    # å…¨é“¾è·¯å†’çƒŸ
    â”‚   â””â”€â”€ test_smoke.py
    â””â”€â”€ reports/                   # ç»Ÿä¸€è¦†ç›–ç‡/Allure
        â”œâ”€â”€ .gitignore
        â””â”€â”€ README.md
```

åç«¯ï¼ˆDjango å°±è¿‘ï¼‰

```
apps/<module>/tests/
â”œâ”€â”€ test_models.py      # Model æ–¹æ³•/ä¿¡å·
â”œâ”€â”€ test_views.py       # è§†å›¾/åºåˆ—åŒ–å™¨/æƒé™
â”œâ”€â”€ test_integration.py # åŒ app å¤šæ¨¡å‹è”è°ƒ
```

åç«¯ï¼ˆé¡¶å±‚æ±‡æ€»ï¼‰

```
backend/tests/
â”œâ”€â”€ integration/        # è·¨ app è°ƒç”¨ï¼ˆCeleryã€å¤–éƒ¨ APIï¼‰
â”œâ”€â”€ performance/        # Locust/K6 è„šæœ¬
â””â”€â”€ factories/          # Factory Boy å…±äº«æ„é€ å™¨
```

å‰ç«¯ï¼ˆå°±è¿‘ï¼‰

```
src/xxx/xxx.vue
src/xxx/xxx.spec.ts     # Vitest ç»„ä»¶/è§†å›¾
src/xxx/xxx.e2e.ts      # Playwright å•é¡µ E2E
```

å‰ç«¯ï¼ˆé¡¶å±‚æ±‡æ€»ï¼‰

```
frontend/tests/
â”œâ”€â”€ unit/setup.ts        # å…¨å±€ mockã€æ’ä»¶
â”œâ”€â”€ e2e/playwright.config.ts
â””â”€â”€ coverage/vitest.config.ts
```

é¡¹ç›®çº§æ±‡æ€»ï¼ˆå‰åç«¯ä¸€èµ·è·‘ CIï¼‰

```
tests/
â”œâ”€â”€ integration/         # è°ƒåç«¯ API + å‰ç«¯é¡µé¢è”åˆæ–­è¨€
â”œâ”€â”€ system/              # å†’çƒŸï¼ˆå¥åº·æ£€æŸ¥ã€ç™»å½•â†’ä¸‹å•â†’æ”¯ä»˜ï¼‰
â””â”€â”€ reports/             # ç»Ÿä¸€ Allure/è¦†ç›–ç‡å…¥å£
```

---

CI ä¸€é”®å…¨è·‘ï¼ˆGitHub Actions ç‰‡æ®µï¼‰

yaml

```yaml
- name: Backend tests
  run: |
    docker compose exec -T backend pytest backend/tests apps/*/tests --cov --cov-report=xml:tests/reports/backend-cov.xml

- name: Frontend tests
  run: |
    cd frontend && npm run test:ci -- --coverage.reporter=xml --coverage.reporter.dst=../tests/reports/frontend-cov.xml

- name: Merge coverage
  run: |
    python -m pip install coverage
    coverage combine tests/reports/*-cov.xml
    coverage xml -o tests/reports/full-coverage.xml
```

---

ä¸€å¥è¯æ€»ç»“
**ã€Œå‰åç«¯å„è‡ªå°±è¿‘å†™æµ‹è¯•ï¼Œé¡¶å±‚ tests/ åªåšæ±‡æ€»å’Œè·¨ç«¯åœºæ™¯ã€**ï¼Œæ—¢ä¿ç•™å‰ç«¯/åç«¯ç›®å½•çš„ã€Œé¢œå€¼ã€ï¼Œåˆæ»¡è¶³ CI ç»Ÿä¸€æŠ¥å‘Šéœ€æ±‚â€”â€”ç›´æ¥æŠ„ï¼

### CIæ˜¯å¦å¯ä»¥å¼ºåˆ¶æ£€éªŒï¼Œæ–‡æ¡£æ˜¯å¦æœ‰ä¹±æ”¾ï¼Œä¹±ç”ŸæˆæŒ‡å®šæ–‡æ¡£ä¹‹å¤–çš„æ–‡æ¡£ï¼Œä»¥åŠæ˜¯å¦å¯ä»¥è‡ªç”±å®šåˆ¶å…¶ä»–çš„æ£€éªŒè§„åˆ™ã€‚



### å…ˆæ­å»ºåŸºç¡€æ¡†æ¶ï¼Œæ¯”å¦‚CICDã€æµ‹è¯•æ¡†æ¶ã€æ—¥å¿—æ‰“å°è®¾è®¡ã€‚



### makeç»Ÿä¸€æµ‹è¯•å…¥å£ï¼Œæµ‹è¯•æ–‡ä»¶è‡ªåŠ¨è¯†åˆ«å¹¶çº³å…¥

---

### pre-commité’©å­ï¼Œpushå‰è‡ªåŠ¨è·‘å…¨é‡æµ‹è¯•

```
# .pre-commit-config.yaml
repos:
  - repo: local
    hooks:
      - id: ai-test-gate
        name: AI Test Gate
        entry: cursor mcp pytest-gate --fail-under=80
        language: system
        pass_filenames: false
```

#### æœ¬é¡¹ç›®pre-commité’©å­ç›¸å…³é…ç½®æ–‡ä»¶

##### ğŸ”§ ä¸»è¦é…ç½®æ–‡ä»¶
1.`.pre-commit-config.yaml`

- è¿™æ˜¯ pre-commit æ¡†æ¶çš„ä¸»é…ç½®æ–‡ä»¶
- å®šä¹‰äº†è¦è¿è¡Œçš„é’©å­å’Œæ£€æŸ¥è§„åˆ™
- é…ç½®å„ç§ä»£ç è´¨é‡æ£€æŸ¥å·¥å…·ï¼ˆå¦‚ blackã€flake8ã€eslint ç­‰ï¼‰

2.`pre-commit`

- è¿™æ˜¯ Husky ç®¡ç†çš„ Git pre-commit é’©å­è„šæœ¬
- å®é™…åœ¨ Git æäº¤å‰æ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶
- è°ƒç”¨ lint-staged æ¥å¤„ç†æš‚å­˜æ–‡ä»¶

##### ğŸ“¦ ç›¸å…³é…ç½®
1.`package.json` ä¸­çš„ lint-staged é…ç½®

- å®šä¹‰äº†å¯¹ä¸åŒæ–‡ä»¶ç±»å‹æ‰§è¡Œçš„æ£€æŸ¥å‘½ä»¤
- å½“å‰é…ç½®ä¸ºè¿è¡Œ npm run check:syntax è¿›è¡Œè¯­æ³•æ£€æŸ¥

2.`check-syntax.js`

- è‡ªå®šä¹‰çš„è¯­æ³•æ£€æŸ¥è„šæœ¬
- è¢« lint-staged è°ƒç”¨æ¥æ£€æŸ¥ TypeScript æ–‡ä»¶è¯­æ³•

##### ğŸ¯ å·¥ä½œæµç¨‹
å½“ä½ æ‰§è¡Œ git commit æ—¶ï¼š

1.Git è§¦å‘ .husky/pre-commit è„šæœ¬

2.Husky æ‰§è¡Œ lint-staged

3.lint-staged æ ¹æ® package.json é…ç½®è¿è¡Œ npm run check:syntax

4.æ£€æŸ¥é€šè¿‡åæ‰å…è®¸æäº¤
ä¸»è¦çš„é…ç½®æ–‡ä»¶æ˜¯ .pre-commit-config.yaml å’Œ .husky/pre-commit ã€‚

#### ğŸ“‹ æ ¡éªŒåŸç†å’Œå·¥ä½œæµç¨‹

1. **æœ¬åœ°é¢„æäº¤é’©å­ (Pre-commit Hooks)**

- è§¦å‘æ—¶æœº ï¼šæ¯æ¬¡æ‰§è¡Œ git commit æ—¶

- é…ç½®æ–‡ä»¶ ï¼š .pre-commit-config.yaml

- å·¥ä½œåŸç† ï¼šGité’©å­æœºåˆ¶ï¼Œåœ¨æäº¤å‰è‡ªåŠ¨è¿è¡Œä»£ç æ£€æŸ¥

åŒ…å«çš„æ£€æŸ¥é¡¹ç›® ï¼š

- Pythonä»£ç  ï¼šBlackæ ¼å¼åŒ–ã€isortå¯¼å…¥æ’åºã€flake8ä»£ç æ£€æŸ¥ã€mypyç±»å‹æ£€æŸ¥ã€banditå®‰å…¨æ‰«æ

- å‰ç«¯ä»£ç  ï¼šPrettieræ ¼å¼åŒ–ã€ESLintä»£ç æ£€æŸ¥

- é€šç”¨æ£€æŸ¥ ï¼šå»é™¤å°¾éšç©ºæ ¼ã€æ–‡ä»¶ç»“å°¾ä¿®å¤ã€YAML/JSONè¯­æ³•æ£€æŸ¥ã€å¤§æ–‡ä»¶æ£€æµ‹ç­‰

- Dockeræ–‡ä»¶ ï¼šhadolintæ£€æŸ¥

- æäº¤ä¿¡æ¯ ï¼šcommitizenè§„èŒƒæ£€æŸ¥

2. **è¿œç¨‹CI/CDæµæ°´çº¿ (GitHub Actions)**

- è§¦å‘æ—¶æœº ï¼šæ¨é€åˆ°main/developåˆ†æ”¯æˆ–åˆ›å»ºPull Requestæ—¶

- é…ç½®æ–‡ä»¶ ï¼š .github/workflows/ci.yml.keep

- å·¥ä½œåŸç† ï¼šGitHub Actionsè‡ªåŠ¨è¿è¡Œå®Œæ•´çš„æµ‹è¯•å’Œè´¨é‡æ£€æŸ¥

åŒ…å«çš„æ£€æŸ¥é˜¶æ®µ ï¼š

- åç«¯æµ‹è¯• ï¼šå•å…ƒæµ‹è¯•ã€è¦†ç›–ç‡æ£€æŸ¥ã€ä»£ç è´¨é‡æ‰«æ

- å‰ç«¯æµ‹è¯• ï¼šå•å…ƒæµ‹è¯•ã€ç±»å‹æ£€æŸ¥ã€ä»£ç è§„èŒƒæ£€æŸ¥

- E2Eæµ‹è¯• ï¼šç«¯åˆ°ç«¯åŠŸèƒ½æµ‹è¯•

- å®‰å…¨æ‰«æ ï¼šTrivyæ¼æ´æ‰«æ

#### âš™ï¸ å¦‚ä½•è®¾ç½®å’Œè‡ªå®šä¹‰é—¨ç¦

1. **ä¿®æ”¹Pre-commité…ç½®**

ç¼–è¾‘ .pre-commit-config.yaml æ–‡ä»¶ï¼š

```
# æ·»åŠ æ–°çš„é’©å­
- repo: https://github.com/example/tool
  rev: v1.0.0
  hooks:
    - id: custom-check
      args: ["--custom-option"]
```

2. **è‡ªå®šä¹‰CI/CDæµæ°´çº¿**

ä¿®æ”¹ .github/workflows/ci.yml.keep æ–‡ä»¶ï¼š

- æ·»åŠ æ–°çš„æ£€æŸ¥æ­¥éª¤
- ä¿®æ”¹è§¦å‘æ¡ä»¶
- è°ƒæ•´æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
- é…ç½®éƒ¨ç½²æ¡ä»¶

3. **æœ¬åœ°è´¨é‡æ£€æŸ¥è„šæœ¬**

- Makefile ï¼šæä¾›ç»Ÿä¸€çš„å‘½ä»¤æ¥å£ ( make quality )
- scripts/quality.sh ï¼šè¯¦ç»†çš„è´¨é‡æ£€æŸ¥è„šæœ¬

#### ğŸ› ï¸ é—¨ç¦è‡ªå®šä¹‰é€‰é¡¹

ä¸¥æ ¼ç¨‹åº¦è°ƒæ•´ ï¼š

- ä»£ç è¦†ç›–ç‡é˜ˆå€¼ ï¼šåœ¨pytesté…ç½®ä¸­è®¾ç½®æœ€å°è¦†ç›–ç‡
- ä»£ç å¤æ‚åº¦é™åˆ¶ ï¼šåœ¨flake8é…ç½®ä¸­è°ƒæ•´å¤æ‚åº¦é˜ˆå€¼
- å®‰å…¨æ‰«æçº§åˆ« ï¼šåœ¨bandité…ç½®ä¸­è®¾ç½®ä¸¥é‡ç¨‹åº¦è¿‡æ»¤ è·³è¿‡ç‰¹å®šæ£€æŸ¥ ï¼š

```
# è·³è¿‡pre-commitæ£€æŸ¥ï¼ˆä¸æ¨èï¼‰
git commit --no-verify -m "ç´§æ€¥ä¿®å¤"

# è·³è¿‡ç‰¹å®šé’©å­
SKIP=flake8 git commit -m "è·³è¿‡flake8æ£€æŸ¥"
```

åˆ†æ”¯ä¿æŠ¤åŸåˆ™

åœ¨GitHubä»“åº“è®¾ç½®ä¸­é…ç½®ï¼š

- è¦æ±‚é€šè¿‡çŠ¶æ€æ£€æŸ¥
- è¦æ±‚ä»£ç å®¡æŸ¥
- é™åˆ¶å¼ºåˆ¶æ¨é€

#### ğŸ“Š è´¨é‡é—¨ç¦çš„ä»·å€¼

1. ä»£ç è´¨é‡ä¿è¯ ï¼šç¡®ä¿ä»£ç ç¬¦åˆå›¢é˜Ÿè§„èŒƒ
2. å®‰å…¨é˜²æŠ¤ ï¼šåŠæ—©å‘ç°å®‰å…¨æ¼æ´
3. è‡ªåŠ¨åŒ–æµ‹è¯• ï¼šé˜²æ­¢åŠŸèƒ½å›å½’
4. å›¢é˜Ÿåä½œ ï¼šç»Ÿä¸€çš„ä»£ç é£æ ¼å’Œè´¨é‡æ ‡å‡†

---

### å®Œå–„æµ‹è¯•é—¨ç¦è®¾è®¡ï¼Œä»£ç è¦†ç›–ç‡ã€å¤æ‚åº¦ï¼Œç­‰ç­‰ï¼Œåˆ©ç”¨ç°æœ‰åº“æˆ–å·¥å…·æ¯”å¦‚radonã€coverageã€pytestã€pylintã€playwrightã€seleniumã€Lighthouseã€Codecovã€GitHub Checks ç­‰ç­‰ï¼Œæ¢ç´¢éœ€è¦ä½¿ç”¨çš„æµ‹è¯•åº“ä»¥åŠå·¥å…·





### ç”¨ GitHub Actions + Vercel + Slack å»ºç«‹â€œè‡ªåŠ¨éƒ¨ç½²+å›æ»šâ€

- **éƒ¨ç½²å‰å¿…é¡»æ‰€æœ‰æµ‹è¯•é€šè¿‡**
- **éƒ¨ç½²å¤±è´¥è‡ªåŠ¨å›æ»š**
- **ä½ åªåœ¨ Slack æ”¶åˆ°â€œæˆåŠŸ/å¤±è´¥â€é€šçŸ¥**



### æµ‹è¯•å·¥å‚é…ç½®ï¼Œ**ç”¨æ•°æ®ä»£æ›¿ä»£ç ã€ç”¨ç”Ÿæˆä»£æ›¿æ‰‹å†™ã€ç”¨é…ç½®ä»£æ›¿å¤åˆ¶ç²˜è´´**



### é˜²æ­¢Cursor ä¸ºäº†â€œè®©æµ‹è¯•é€šè¿‡â€è€Œå·å·æ”¹æµ‹è¯•ï¼ˆæˆ–æ–­è¨€ï¼‰ï¼Œè€Œä¸æ˜¯ä¿®ä¸šåŠ¡é€»è¾‘

#### è®¾è®¡æ€è·¯

- **æµ‹è¯•ç”¨ä¾‹åŒä»“åº“ï¼ˆTest-Monorepoï¼‰**

```
repo/
â”œâ”€ src/             # ä¸šåŠ¡ä»£ç ï¼ˆCursor å¯å†™ï¼‰
â”œâ”€ tests/           # ç”Ÿæˆå±‚ï¼šCursor å¯å†™
â””â”€ tests-golden/    # æ‰‹å†™å±‚ï¼šåªè¯»ï¼ŒCursor ç¦æ­¢å†™
```

- **tests-golden/** ç”¨ Git LFS æˆ–å•ç‹¬ç§æœ‰ä»“åº“æ‰˜ç®¡ï¼Œ**å¼ºåˆ¶åªè¯»**
  åœ¨ CI é‡ŒåŠ é’©å­ï¼š

```bash
# .github/workflows/guard-golden-tests.yml
- name: Fail if golden tests are touched
  run: |
    if git diff --name-only origin/main...HEAD | grep -q '^tests-golden/'; then
      echo "âŒ ç¦æ­¢ä¿®æ”¹é»„é‡‘æµ‹è¯•ï¼"
      exit 1
    fi
```

- **â€œé»„é‡‘æµ‹è¯•â€ç”±ä½ äº²è‡ª Review æ‰èƒ½åˆå¹¶**

æ‰€æœ‰æ”¹åŠ¨ `tests-golden/` çš„ PR **å¿…é¡»äººå·¥ Approve**

GitHub è®¾ç½®è§„åˆ™ï¼š
`Settings â†’ Branches â†’ Require pull request reviews before merging`
å¹¶æŒ‡å®š Code Ownerï¼š

```
/tests-golden/    @your-username
```

- **Cursor çš„æç¤ºè¯é‡ŒåŠ â€œæµ‹è¯•é”â€**

åœ¨æ¯æ¬¡ç”Ÿæˆä»£ç å‰ï¼ŒæŠŠä¸‹é¢ç³»ç»Ÿæç¤ºè¯å–‚ç»™ Cursorï¼š

```
ã€æµ‹è¯•å®‰å…¨é”ã€‘
1. ä½ ç»å¯¹ç¦æ­¢ä¿®æ”¹ tests-golden/ ç›®å½•ä¸‹çš„ä»»ä½•æ–‡ä»¶ã€‚
2. å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œåªèƒ½ä¿®æ”¹ src/ é‡Œçš„ä¸šåŠ¡é€»è¾‘æˆ– tests/ é‡Œçš„è¾…åŠ©ä»£ç ã€‚
3. å¦‚æœä½ è®¤ä¸ºæµ‹è¯•ç”¨ä¾‹æœ¬èº«æœ‰è¯¯ï¼Œè¯·è¾“å‡ºâ€œTEST_CASE_ISSUE: <æè¿°>â€å¹¶åœæ­¢ç”Ÿæˆï¼Œç­‰å¾…äººç±»ç¡®è®¤ã€‚
```

- **æµ‹è¯•å¿«ç…§ï¼ˆSnapshotï¼‰+ Diff æŠ¥è­¦**

å¯¹å…³é”®æ–­è¨€ä½¿ç”¨ Jest snapshot / Playwright screenshot snapshot

åœ¨ CI é‡Œè·‘ï¼š

```bash
npx jest --ci --updateSnapshot
git diff --exit-code tests-golden/  # æœ‰å·®å¼‚å°±å¤±è´¥
```

#### å®é™…æ–¹æ¡ˆ

é»„é‡‘æµ‹è¯•ç›®å½•ç»“æ„ï¼š

- `tests-golden` - ä¸»ç›®å½•åŠå®Œæ•´å­ç›®å½•ç»“æ„
- `README.md` - è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’Œç»´æŠ¤æŒ‡å—
æ ¸å¿ƒæµ‹è¯•æ–‡ä»¶ï¼š

- `blog.spec.ts` - æ ¸å¿ƒE2Eæµ‹è¯•
- `test_user_core.py` - åç«¯æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•
- `auth-components.test.tsx` - å‰ç«¯æ ¸å¿ƒç»„ä»¶æµ‹è¯•
- `playwright.config.ts` - ä¸“ç”¨æµ‹è¯•é…ç½®
##### ğŸ›¡ï¸ ä¿æŠ¤æœºåˆ¶
Gitçº§åˆ«ä¿æŠ¤ï¼š

- `golden-test-guard` - è‡ªå®šä¹‰ä¿æŠ¤é’©å­
- æ›´æ–°äº† `pre-commit` - é›†æˆé»„é‡‘æµ‹è¯•æ£€æŸ¥
GitHub Actionsä¿æŠ¤ï¼š

- `golden-test-protection.yml` - ä¸“ç”¨ä¿æŠ¤å·¥ä½œæµ
- æ›´æ–°äº† `ci.yml` - æ·»åŠ é»„é‡‘æµ‹è¯•æ‰§è¡Œæ­¥éª¤
ä»£ç å®¡æŸ¥ä¿æŠ¤ï¼š

- `CODEOWNERS` - é…ç½®ç‰¹æ®Šå®¡æ‰¹è¦æ±‚
AIåŠ©æ‰‹çº¦æŸï¼š

- `golden_test_protection.mdc` - Cursor AIè¡Œä¸ºè§„åˆ™
##### ğŸ”§ å®ç°çš„åŠŸèƒ½
1.å¤šå±‚ä¿æŠ¤æœºåˆ¶ - Gité’©å­ã€CIæ£€æŸ¥ã€ä»£ç å®¡æŸ¥ä¸‰é‡ä¿æŠ¤

2.è‡ªåŠ¨åŒ–æ£€æµ‹ - ä»»ä½•å¯¹é»„é‡‘æµ‹è¯•çš„ä¿®æ”¹éƒ½ä¼šè¢«è‡ªåŠ¨æ£€æµ‹å’Œé˜»æ­¢

3.æ¸…æ™°çš„é”™è¯¯æç¤º - æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œæ›¿ä»£æ–¹æ¡ˆ

4.å®Œæ•´çš„æµ‹è¯•è¦†ç›– - æ¶µç›–E2Eã€åç«¯ã€å‰ç«¯ä¸‰ä¸ªå±‚é¢çš„æ ¸å¿ƒæµ‹è¯•

5.AIåŠ©æ‰‹çº¦æŸ - ç¡®ä¿AIå·¥å…·ä¹Ÿéµå®ˆé»„é‡‘æµ‹è¯•ä¿æŠ¤è§„åˆ™

##### ğŸš€ ä½¿ç”¨æ–¹å¼
- å¼€å‘è€… ï¼šæ­£å¸¸å¼€å‘æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¿æŠ¤é»„é‡‘æµ‹è¯•ä¸è¢«è¯¯ä¿®æ”¹
- æµ‹è¯•å›¢é˜Ÿ ï¼šå¯ä»¥å®‰å…¨åœ°è¿è¡Œå’ŒæŸ¥çœ‹é»„é‡‘æµ‹è¯•ï¼Œä½†ä¿®æ”¹éœ€è¦ç‰¹æ®Šæµç¨‹
- CI/CD ï¼šæ¯æ¬¡æ„å»ºéƒ½ä¼šè¿è¡Œé»„é‡‘æµ‹è¯•ï¼Œç¡®ä¿æ ¸å¿ƒåŠŸèƒ½ç¨³å®š
è¿™å¥—ä¿æŠ¤æœºåˆ¶ç¡®ä¿äº†é¡¹ç›®æ ¸å¿ƒåŠŸèƒ½çš„ç¨³å®šæ€§ï¼ŒåŒæ—¶ä¸ä¼šé˜»ç¢æ­£å¸¸çš„å¼€å‘å·¥ä½œã€‚æ‰€æœ‰ä¿æŠ¤éƒ½æ˜¯è‡ªåŠ¨åŒ–çš„ï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚



### é˜²æ­¢cursorå¯èƒ½åªæ˜¯â€œæŒ‘å¥½è¿‡çš„æµ‹è¯•è·‘ä¸€éâ€ï¼Œç”šè‡³â€œå‡è£…è·‘â€ï¼Œç„¶åå‘Šè¯‰ä½ â€œå…¨é€šè¿‡â€ã€‚

#### è®¾è®¡æ€è·¯

- **å¼ºåˆ¶å…¨é‡æµ‹è¯• + å…¬å¼€æ—¥å¿—**

```yaml
# .github/workflows/gate.yml
- name: Run ALL tests with trace
  run: |
    npx jest --ci --coverage --reporters=default --reporters=jest-junit
    npx playwright test --reporter=html
    npx nyc report --reporter=text-lcov > coverage.lcov
```

æŠŠæŠ¥å‘Šä¸Šä¼ åˆ° **GitHub Actions Artifacts** ä¸ **Codecov**ï¼Œä½ ç‚¹ä¸€ä¸‹å°±èƒ½çœ‹åˆ°ï¼š
âœ… è·‘äº†å¤šå°‘ç”¨ä¾‹
âœ… å“ªäº›æ–‡ä»¶æ²¡è¦†ç›–
âœ… å¤±è´¥æˆªå›¾ / trace

- è¦†ç›–ç‡é˜ˆå€¼ + å¼ºåˆ¶é”

åœ¨ `jest.config.js` é‡ŒåŠ ç¡¬æ€§é˜ˆå€¼ï¼š

```
module.exports = {
  coverageThreshold: {
    global: {
      branches: 90,
      functions: 90,
      lines: 90,
      statements: 90,
    },
  },
};
```

CI é‡Œå¦‚æœä½äºé˜ˆå€¼ï¼Œç›´æ¥å¤±è´¥ â†’ Cursor æ— æ³•â€œè’™æ··è¿‡å…³â€ã€‚

- **æµ‹è¯•æ‰§è¡Œâ€œåŒé’¥åŒ™â€åˆ¶åº¦**

**é’¥åŒ™ A**ï¼šCursor åªèƒ½æŠŠä»£ç æ¨åˆ° `dev` åˆ†æ”¯

**é’¥åŒ™ B**ï¼šGitHub Actions åœ¨ `dev` â†’ `main` çš„ PR ä¸Š**å¼ºåˆ¶è·‘ä¸€æ¬¡å®Œæ•´æµ‹è¯•**

ä½ åœ¨ PR é¡µé¢ä¸€çœ¼å°±èƒ½çœ‹åˆ° âœ… / âŒ

æ²¡æœ‰ä½ çš„ Approveï¼Œæ— æ³•åˆå¹¶åˆ° `main`ï¼ˆéƒ¨ç½²ä¹Ÿè§¦å‘ä¸äº†ï¼‰

- å¯è§†åŒ–ç›‘æ§é¢æ¿ï¼ˆä½ ä¸€çœ¼å°±èƒ½çœ‹æ‡‚ï¼‰

| æŒ‡æ ‡         | å·¥å…·                   | é˜ˆå€¼    | ä¸è¾¾æ ‡ä¼šæ€æ · |
| ------------ | ---------------------- | ------- | ------------ |
| å•æµ‹é€šè¿‡ç‡   | GitHub Checks          | 100 %   | PR è¢«æ ‡ âŒ   |
| ç«¯åˆ°ç«¯é€šè¿‡ç‡ | Playwright HTML Report | 100 %   | PR è¢«æ ‡ âŒ   |
| ä»£ç è¦†ç›–ç‡   | Codecov                | â‰¥ 90 %  | PR è¢«æ ‡ âŒ   |
| æ€§èƒ½è¯„åˆ†     | Lighthouse CI          | â‰¥ 90 åˆ† | PR è¢«æ ‡ âŒ   |

- #### åŠŸèƒ½æ¸…å• â†’ ç»“æ„åŒ– JSONï¼ˆä½ å†™ä¸€æ¬¡å³å¯ï¼‰

  `features.json`ï¼ˆæ”¾åœ¨ä»“åº“æ ¹ç›®å½•ï¼Œåªè¯»ï¼‰

```
[
  { "id": "ENG-001", "desc": "è‹±è¯­æ–°é—»åˆ—è¡¨é¡µæ˜¾ç¤ºæ ‡é¢˜å’Œæ‘˜è¦" },
  { "id": "ENG-002", "desc": "è‹±è¯­æ–°é—»è¯¦æƒ…é¡µç‚¹å‡»ç¿»è¯‘æŒ‰é’®å‡ºç°ä¸­æ–‡ç¿»è¯‘" },
  { "id": "ENG-003", "desc": "æ‰“å­—ç»ƒä¹ é¡µé¢ç»Ÿè®¡æ­£ç¡®ç‡" },
  { "id": "BLOG-001", "desc": "åšå®¢åˆ—è¡¨é¡µå±•ç¤º 3 ç¯‡æœ€æ–°åšå®¢" }
]
```

ä½ åªéœ€ç»´æŠ¤è¿™ä¸ªæ–‡ä»¶ï¼Œç”¨è‡ªç„¶è¯­è¨€æè¿°åŠŸèƒ½ç‚¹å³å¯ã€‚

- è®© Cursor è‡ªåŠ¨æŠŠâ€œæµ‹è¯• â†” åŠŸèƒ½â€é“¾æ¥èµ·æ¥
  åœ¨ jest.config.js é‡ŒåŠ ï¼š

```
module.exports = {
  testMatch: ["**/__tests__/**/*.test.js"],
  setupFilesAfterEnv: ["<rootDir>/matchFeatures.js"],
};
```

`matchFeatures.js`ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼ŒCursor æ¯æ¬¡å†™æµ‹è¯•æ—¶éƒ½è¦æŒ‰æ¨¡æ¿åŠ ä¸€è¡Œï¼‰

```
// åœ¨æ¯ä¸ªæµ‹è¯•æ–‡ä»¶é¡¶éƒ¨
const { linkTestToFeature } = require('./testMap');
linkTestToFeature('ENG-001');   // å‘Šè¯‰ç³»ç»Ÿè¿™æ¡æµ‹è¯•è¦†ç›– ENG-001
```

Cursor çš„**ç³»ç»Ÿæç¤ºè¯**é‡Œè¿½åŠ ï¼š

```
ã€åŠŸèƒ½-æµ‹è¯•æ˜ å°„é”ã€‘
1. å†™å®Œæµ‹è¯•åï¼Œå¿…é¡»åœ¨æ–‡ä»¶é¡¶éƒ¨è°ƒç”¨ linkTestToFeature('åŠŸèƒ½ID')ã€‚
2. ä¸å…è®¸æŠŠ linkTestToFeature æŒ‡å‘ä¸å­˜åœ¨çš„åŠŸèƒ½IDã€‚
3. CI ä¼šæ£€æŸ¥æ¯ä¸ªåŠŸèƒ½IDæ˜¯å¦è‡³å°‘è¢«ä¸€æ¡æµ‹è¯•æ˜ å°„ï¼›ç¼ºäº†å°±å¤±è´¥ã€‚
```

- #### CI è‡ªåŠ¨ç”Ÿæˆâ€œåŠŸèƒ½-æµ‹è¯•è¦†ç›–åœ°å›¾â€

.github/workflows/map.yml

```
- name: Build Feature-Test Map
  run: |
    node scripts/buildFeatureMap.js            # è¯»å– features.json + æ‰€æœ‰æµ‹è¯•æ–‡ä»¶
    cat feature-test-map.md >> $GITHUB_STEP_SUMMARY  # åœ¨ PR é¡µé¢ç›´æ¥æ˜¾ç¤º
```

ç”Ÿæˆçš„ `feature-test-map.md`ï¼ˆç›´æ¥å‡ºç°åœ¨ PR åº•éƒ¨ï¼Œä½ ä¸€çœ¼å¯è¯»ï¼‰

| åŠŸèƒ½ID   | æè¿°                           | æµ‹è¯•æ–‡ä»¶           | çŠ¶æ€          |
| -------- | ------------------------------ | ------------------ | ------------- |
| ENG-001  | è‹±è¯­æ–°é—»åˆ—è¡¨é¡µæ˜¾ç¤ºæ ‡é¢˜å’Œæ‘˜è¦   | `newsList.test.js` | âœ…            |
| ENG-002  | è¯¦æƒ…é¡µç‚¹å‡»ç¿»è¯‘æŒ‰é’®å‡ºç°ä¸­æ–‡ç¿»è¯‘ | â€”                  | âŒ **æ— æµ‹è¯•** |
| ENG-003  | æ‰“å­—ç»ƒä¹ ç»Ÿè®¡æ­£ç¡®ç‡             | `typing.test.js`   | âœ…            |
| BLOG-001 | åšå®¢åˆ—è¡¨å±•ç¤º 3 ç¯‡æœ€æ–°åšå®¢      | â€”                  | âŒ **æ— æµ‹è¯•** |

#### å®é™…æ–¹æ¡ˆ

å·²ç»å®Œå…¨å®ç°äº†æ‚¨æå‡ºçš„é˜²æ­¢Cursor "æŒ‘å¥½è¿‡çš„æµ‹è¯•è·‘ä¸€é" æˆ– "å‡è£…è·‘" çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼š

##### ğŸ”’ æ ¸å¿ƒé˜²æŠ¤æªæ–½
1. å¼ºåˆ¶å…¨é‡æµ‹è¯• + å…¬å¼€æ—¥å¿—

- åˆ›å»ºäº† `branch-protection.yml` GitHub Actionså·¥ä½œæµ
- å¼ºåˆ¶è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼šJestå•å…ƒæµ‹è¯•ã€Playwrightç«¯åˆ°ç«¯æµ‹è¯•ã€è¦†ç›–ç‡æ£€æŸ¥
- è‡ªåŠ¨ä¸Šä¼ æµ‹è¯•æŠ¥å‘Šåˆ°GitHub Actions Artifactså’ŒCodecov
- ç”Ÿæˆè¯¦ç»†çš„æµ‹è¯•traceå’Œå¤±è´¥æˆªå›¾
2. è¦†ç›–ç‡é˜ˆå€¼é”å®šï¼ˆ90%ç¡¬æ€§é—¨æ§›ï¼‰

- å‰ç«¯ï¼š `jest.config.coverage.js` å’Œ `jest.config.js`
- åç«¯ï¼š `pytest-coverage.ini` å’Œæ›´æ–°çš„ `pytest.ini`
- åˆ›å»ºäº† `verify-coverage.js` é˜²ä½œå¼ŠéªŒè¯è„šæœ¬
- ä½äºé˜ˆå€¼ç›´æ¥CIå¤±è´¥ï¼Œæ— æ³•è’™æ··è¿‡å…³
3. åŒé’¥åŒ™åˆ¶åº¦

- é’¥åŒ™A ï¼šCursoråªèƒ½æ¨é€åˆ° dev åˆ†æ”¯
- é’¥åŒ™B ï¼šGitHub Actionsåœ¨ dev â†’ main çš„PRä¸Šå¼ºåˆ¶å®Œæ•´æµ‹è¯•
- åˆ†æ”¯ä¿æŠ¤è§„åˆ™ç¡®ä¿æ²¡æœ‰æ‚¨çš„Approveæ— æ³•åˆå¹¶åˆ° main
##### ğŸ“Š å¯è§†åŒ–ç›‘æ§é¢æ¿
åˆ›å»ºäº†å®Œæ•´çš„ç›‘æ§ä½“ç³»ï¼š

- å•æµ‹é€šè¿‡ç‡ ï¼šGitHub Checksæ˜¾ç¤ºï¼Œ100%è¦æ±‚
- ç«¯åˆ°ç«¯é€šè¿‡ç‡ ï¼šPlaywright HTML Reportï¼Œ100%è¦æ±‚
- ä»£ç è¦†ç›–ç‡ ï¼šCodecové›†æˆï¼Œâ‰¥90%è¦æ±‚
- æ€§èƒ½è¯„åˆ† ï¼šLighthouse CIï¼Œâ‰¥90åˆ†è¦æ±‚
##### ğŸ¯ åŠŸèƒ½-æµ‹è¯•æ˜ å°„é”ç³»ç»Ÿ
åŠŸèƒ½æ¸…å•ç®¡ç†

- åˆ›å»ºäº† `features.json` ç»“æ„åŒ–åŠŸèƒ½æè¿°ï¼ˆ15ä¸ªåŠŸèƒ½ç‚¹ï¼‰
- æ¶µç›–è‹±è¯­å­¦ä¹ ã€åšå®¢ã€ç”¨æˆ·è®¤è¯ã€é€šç”¨åŠŸèƒ½ç­‰æ¨¡å—
è‡ªåŠ¨æ˜ å°„æœºåˆ¶

- `testMap.js` ï¼šæ ¸å¿ƒæ˜ å°„å­˜å‚¨å’ŒéªŒè¯
- `matchFeatures.js` ï¼šJesté›†æˆå’Œè‡ªå®šä¹‰åŒ¹é…å™¨
- æä¾› linkTestToFeature() ã€ describeFeature() ç­‰ä¾¿æ·API
- åˆ›å»ºäº† `feature-mapping-demo.test.js` å®Œæ•´ä½¿ç”¨ç¤ºä¾‹
CIè‡ªåŠ¨ç”Ÿæˆè¦†ç›–åœ°å›¾

- `buildFeatureMap.js` ï¼šè‡ªåŠ¨æ„å»ºåŠŸèƒ½-æµ‹è¯•æ˜ å°„
- `feature-map.yml` ï¼šCIå·¥ä½œæµè‡ªåŠ¨ç”ŸæˆæŠ¥å‘Š
- åœ¨PRé¡µé¢ç›´æ¥æ˜¾ç¤ºåŠŸèƒ½è¦†ç›–çŠ¶å†µï¼Œä¸€ç›®äº†ç„¶
##### âš™ï¸ Cursorçº¦æŸç³»ç»Ÿ
ç³»ç»Ÿæç¤ºè¯é”å®š

- æ›´æ–°äº† `rules.md` Cursoré…ç½®
- å¼ºåˆ¶è¦æ±‚ï¼šæ¯ä¸ªæµ‹è¯•æ–‡ä»¶å¿…é¡»è°ƒç”¨ linkTestToFeature()
- ç¦æ­¢ç»•è¿‡æµ‹è¯•æ˜ å°„ã€é™ä½è¦†ç›–ç‡ã€è·³è¿‡CIæ£€æŸ¥
- é›†æˆå¼€å‘å·¥å…·å¿«æ·å‘½ä»¤å’Œè´¨é‡é—¨æ§





### éœ€æ±‚ä¸€æ”¹ï¼Œå¯¹åº”ä»£ç æ²¡åŒæ­¥åˆ ï¼Œå°±ä¼šå˜æˆâ€œåƒµå°¸ä»£ç â€â€”â€”åŠŸèƒ½å…¥å£æ²¡äº†ï¼Œæ–‡ä»¶è¿˜åœ¨ï¼›æµ‹è¯•è¿˜ç»¿ï¼Œå®é™…æ²¡äººè°ƒç”¨ã€‚é¡¹ç›®è¶Šæ¥è¶Šè‚¿ï¼Œåç»­ç»´æŠ¤ã€æ„å»ºã€éƒ¨ç½²ã€AI ç”Ÿæˆæ—¶é—´éƒ½ä¼šæ‹–æ…¢ã€‚

| æ­¥éª¤             | æœºåˆ¶                                   | å·¥å…·/è„šæœ¬                          | è§¦å‘æ—¶æœº          | è¾“å‡º                                     |
| ---------------- | -------------------------------------- | ---------------------------------- | ----------------- | ---------------------------------------- |
| 1 é™æ€å¼•ç”¨æ‰«æ   | æ‰¾å‡ºâ€œä»æœªè¢« import / require çš„æ–‡ä»¶â€   | `npx unimported`                   | CI æ¯ push è·‘ä¸€æ¬¡ | æœªå¼•ç”¨æ–‡ä»¶åˆ—è¡¨                           |
| 2 è¿è¡Œæ—¶è¦†ç›–ç‡   | è·‘ E2E + å•å…ƒæµ‹è¯•ï¼Œæ”¶é›†â€œé›¶å‘½ä¸­â€å‡½æ•°/è¡Œ | `nyc --reporter=html` + Playwright | CI è·‘ gate.yml    | `coverage/index.html` çº¢è‰²åŒºåŸŸ           |
| 3 è‡ªåŠ¨åŒ– PR æé†’ | åƒµå°¸æ–‡ä»¶ > 3 å¤©å°±è‡ªåŠ¨æ PR å»ºè®®åˆ é™¤    | GitHub Action `dead-code-pr.yml`   | nightly cron      | PR æ ‡é¢˜ï¼š`chore: remove dead code (bot)` |
| 4 äººå·¥ä¸€é”®åˆå¹¶   | ä½ åªçœ‹ diff â†’ Approve â†’ Bot è‡ªåŠ¨åˆå¹¶   | GitHub `auto-merge` è§„åˆ™           | ä½ ç‚¹æŒ‰é’®          | ä»“åº“ç˜¦èº«ï¼Œæ„å»ºæ—¶é—´ â†“                     |

- ç¤ºä¾‹ CI ç‰‡æ®µï¼ˆç›´æ¥å¤åˆ¶ï¼‰

  .github/workflows/dead-code.yml

```
name: Dead-Code-Scanner
on:
  schedule: [{ cron: '0 4 * * *' }]   # æ¯å¤©å‡Œæ™¨ 4 ç‚¹
jobs:
  scan:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
      - run: npm ci
      - run: npx unimported --json > unimported.json
      - run: node scripts/create-dead-code-pr.js   # è¯»å– json å¹¶æ PR
```

ä¸€å¥è¯æ€»ç»“
æŠŠâ€œåƒµå°¸ä»£ç æ£€æµ‹â€åšæˆå¤œé—´ä¿å®‰ï¼šæ¯å¤©è‡ªåŠ¨å·¡é€»ï¼Œå‘ç°å°±è´´æ¡ï¼Œç­‰ä½ ä¸€é”®æ¸…ç†ã€‚
âœ… ä»Šå¤©å°±èƒ½åšçš„ 2 åˆ†é’ŸåŠ¨ä½œ

1. npm i -D unimported
2. æŠŠä¸Šé¢çš„ dead-code.yml æ‰”è¿› .github/workflows
3. æ˜æ—©çœ‹ GitHub â†’ Pull requests é‡Œæ˜¯å¦å‡ºç°â€œchore: remove dead code (bot)â€

### è®©å‰ç«¯ã€åç«¯ã€E2E ä¸‰å¥—æµ‹è¯•å„è‡ªç‹¬ç«‹ï¼Œåˆèƒ½åœ¨ CI é‡Œä¸€é”®ä¸²èµ·æ¥ã€‚

```
repo-root/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ apps/               # Django åº”ç”¨
â”‚   â””â”€â”€ tests/              # åç«¯å•å…ƒ/é›†æˆæµ‹è¯•
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ test_models.py
â”‚       â””â”€â”€ test_views.py
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â””â”€â”€ tests/              # å‰ç«¯å•å…ƒ/ç»„ä»¶æµ‹è¯•
â”‚       â”œâ”€â”€ unit/
â”‚       â””â”€â”€ __init__.py
â”œâ”€â”€ e2e/                    # ç«¯åˆ°ç«¯ï¼ˆPlaywrightï¼‰
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ blog.spec.js
â”‚   â””â”€â”€ playwright.config.js
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ backend.yml
â”‚       â”œâ”€â”€ frontend.yml
â”‚       â””â”€â”€ e2e.yml
```

| æµ‹è¯•ç»´åº¦ | ä»£ç è·¯å¾„               | å‘½ä»¤                    | CI æ–‡ä»¶        |
| -------- | ---------------------- | ----------------------- | -------------- |
| åç«¯å•å…ƒ | `backend/tests/`       | `python manage.py test` | `backend.yml`  |
| å‰ç«¯å•å…ƒ | `frontend/tests/unit/` | `npm run test:unit`     | `frontend.yml` |
| ç«¯åˆ°ç«¯   | `e2e/tests/`           | `playwright test`       | `e2e.yml`      |

#### å®é™…æ–¹æ¡ˆ

##### ğŸš€ CI/CD é…ç½®çŠ¶å†µ
å·²å®ç°çš„ CI å·¥ä½œæµ ï¼š

- âœ… ci.yml - ç»Ÿä¸€ CI ç®¡é“ï¼ŒåŒ…å«ä¸‰å¥—æµ‹è¯•çš„å®Œæ•´æµç¨‹
- âœ… e2e.yml - ä¸“é—¨çš„ E2E æµ‹è¯•å·¥ä½œæµï¼Œæ”¯æŒå¤šæµè§ˆå™¨çŸ©é˜µæµ‹è¯•
- âœ… æµ‹è¯•ä¾èµ–ç®¡ç†ï¼šE2E æµ‹è¯•ä¾èµ–å‰ç«¯å’Œåç«¯æµ‹è¯•é€šè¿‡
- âœ… è¦†ç›–ç‡ä¸Šä¼ ï¼šæ”¯æŒ Codecov é›†æˆ
- âœ… æµ‹è¯•æŠ¥å‘Šï¼šè‡ªåŠ¨ç”Ÿæˆå’Œä¸Šä¼ æµ‹è¯•ç»“æœ
##### ğŸ¯ ç»Ÿä¸€æµ‹è¯•å…¥å£
è¶…è¶ŠæœŸæœ›çš„å®ç° ï¼š

- âœ… `test_all.sh` - ç»Ÿä¸€æµ‹è¯•è„šæœ¬
- âœ… `Makefile` ä¸­çš„ make test-all å‘½ä»¤
- âœ… æ™ºèƒ½é”™è¯¯å¤„ç†ï¼šæµ‹è¯•å¤±è´¥æ—¶ç»§ç»­æ‰§è¡Œå…¶ä»–æµ‹è¯•
- âœ… è¯¦ç»†ç»Ÿè®¡æŠ¥å‘Šï¼šåŒ…å«è€—æ—¶å’Œé€šè¿‡çŠ¶æ€
##### ğŸ† æ¶æ„ä¼˜åŠ¿
1.å®Œå…¨ç‹¬ç«‹æ€§ ï¼šä¸‰å¥—æµ‹è¯•ç³»ç»Ÿå„è‡ªç‹¬ç«‹ï¼Œå¯å•ç‹¬è¿è¡Œå’Œç»´æŠ¤

2.CI é›†æˆ ï¼šåœ¨ GitHub Actions ä¸­å®ç°è‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿

3.ä¸€é”®æ‰§è¡Œ ï¼šé€šè¿‡ bash test_all.sh æˆ– make test-all ç»Ÿä¸€å…¥å£

4.ä¸šå†…æ ‡å‡† ï¼šéµå¾ªæœ€ä½³å®è·µï¼Œæ”¯æŒè¦†ç›–ç‡ã€æŠ¥å‘Šç”Ÿæˆã€å¤šæµè§ˆå™¨æµ‹è¯•

5.å®¹é”™æœºåˆ¶ ï¼šå•ä¸ªæµ‹è¯•å¤±è´¥ä¸å½±å“æ•´ä½“æµç¨‹
ç»“è®º ï¼šé¡¹ç›®å·²å®Œå…¨å®ç°å¹¶è¶…è¶Šäº†ç”¨æˆ·æè¿°çš„æµ‹è¯•æ¶æ„è¦æ±‚ï¼Œå½¢æˆäº†å®Œæ•´çš„ç°ä»£åŒ–æµ‹è¯•ä½“ç³»ã€‚



### å¦‚ä½•ç¡®ä¿cursorå¼€å‘çš„æ–°åŠŸèƒ½ä¸ä¼šå½±å“åˆ°å·²å®ç°åŠŸèƒ½

ä¸€å¥è¯ï¼šç”¨ã€Œå›å½’æµ‹è¯•é—¨ç¦ã€æŠŠå·²å®ç°åŠŸèƒ½é”æ­»â€”â€”ä»»ä½•æ–°æ”¹åŠ¨è·‘ä¸è¿‡è€æµ‹è¯•å°±è‡ªåŠ¨æ‹’æ”¶ï¼ŒCursor æƒ³ç ´åéƒ½éš¾ã€‚

- ç»™å·²æœ‰åŠŸèƒ½å»ºé»„é‡‘æµ‹è¯•ï¼ˆé”æ­»ï¼‰

```
# ç¤ºä¾‹ï¼šDjango
echo "class BlogTests(TestCase):
    def test_create_post(self):
        r = self.client.post('/api/posts/', {'title':'hi'})
        self.assertEqual(r.status_code, 201)
" > backend/tests/test_regression.py
```

- CI è®¾ç½®ã€Œå›å½’é—¨ç¦ã€
  .github/workflows/regression.yml

```
name: Regression Gate
on: [pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: docker compose up -d
      - run: pytest backend/tests/test_regression.py  # åªè·‘æ—§åŠŸèƒ½
```

**è‹¥å›å½’æµ‹è¯•å¤±è´¥ï¼ŒPR è‡ªåŠ¨ âŒï¼Œç¦æ­¢åˆå¹¶ã€‚**

- Cursor ç³»ç»Ÿæç¤ºè¯ï¼ˆé˜²æ‰‹æŠ–ï¼‰

ã€å›å½’é”ã€‘

1. ä»»ä½•æ–°åŠŸèƒ½å¿…é¡»è¿½åŠ åˆ° tests/ æ–°æ–‡ä»¶ï¼Œç¦æ­¢ä¿®æ”¹ test_regression.py
2. å…ˆè·‘ `pytest test_regression.py` 100 % é€šè¿‡ï¼Œå†æäº¤ä»£ç 
3. å¦‚æµ‹è¯•å¤±è´¥ï¼Œä»…ä¿®ä¸šåŠ¡é€»è¾‘ï¼Œä¸æ”¹æµ‹è¯•

#### å®é™…æ–¹æ¡ˆ

å·²ç»æˆåŠŸå®ç°äº†å®Œæ•´çš„æµ‹è¯•é”å®šç³»ç»Ÿï¼Œç¡®ä¿ä»£ç è´¨é‡å’ŒåŠŸèƒ½å®Œæ•´æ€§ï¼š

##### âœ… å·²å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½
1. å¼ºåˆ¶å…¨é‡æµ‹è¯•CIé…ç½®

- é…ç½®äº† `ci.yml` GitHub Actionså·¥ä½œæµ
- å®ç°å¼ºåˆ¶è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆå‰ç«¯ã€åç«¯ã€E2Eï¼‰
- è‡ªåŠ¨ä¸Šä¼ æµ‹è¯•æŠ¥å‘Šå’Œè¦†ç›–ç‡æ•°æ®
- æµ‹è¯•å¤±è´¥æ—¶é˜»æ­¢åˆå¹¶
2. è¦†ç›–ç‡é˜ˆå€¼é”å®š

- åœ¨ `jest.config.js` ä¸­è®¾ç½®90%ç¡¬æ€§è¦†ç›–ç‡é˜ˆå€¼
- é…ç½®è¯¦ç»†çš„è¦†ç›–ç‡æŠ¥å‘Šç”Ÿæˆ
- è¦†ç›–ç‡ä¸è¾¾æ ‡æ—¶è‡ªåŠ¨å¤±è´¥
3. åŒé’¥åŒ™åˆ¶åº¦å®æ–½

- é…ç½®äº†devåˆ†æ”¯ä¿æŠ¤è§„åˆ™
- å¼ºåˆ¶è¦æ±‚PRé€šè¿‡æ‰€æœ‰æµ‹è¯•æ£€æŸ¥
- å®ç°äº†å®Œæ•´çš„å›å½’æµ‹è¯•å¥—ä»¶ `test_regression.py`
- åˆ›å»ºäº†ç‹¬ç«‹çš„æµ‹è¯•è¿è¡Œå™¨ `test_simple.py`
4. åŠŸèƒ½-æµ‹è¯•æ˜ å°„ç³»ç»Ÿ

- å»ºç«‹äº†ç»“æ„åŒ–çš„ `features.json` åŠŸèƒ½æ¸…å•
- å®ç°äº† `linkTestToFeature` æ˜ å°„æœºåˆ¶
- åˆ›å»ºäº† `testMap.js` æµ‹è¯•æ˜ å°„å·¥å…·
5. å¯è§†åŒ–ç›‘æ§é¢æ¿

- ç”ŸæˆåŠŸèƒ½-æµ‹è¯•è¦†ç›–åœ°å›¾
- æä¾›å®æ—¶çš„æµ‹è¯•çŠ¶æ€ç›‘æ§
- æ”¯æŒæµ‹è¯•ç»“æœçš„å¯è§†åŒ–å±•ç¤º
6. ç³»ç»Ÿæç¤ºè¯æ›´æ–°

- æ›´æ–°äº† `system_prompt.md`
- æ·»åŠ äº†åŠŸèƒ½-æµ‹è¯•æ˜ å°„é”çº¦æŸ
- å¼ºåŒ–äº†ä»£ç è´¨é‡æ£€æŸ¥è§„åˆ™
##### ğŸ›¡ï¸ å®‰å…¨ä¿éšœæœºåˆ¶
- å¤šå±‚é˜²æŠ¤ ï¼šCI/CD + åˆ†æ”¯ä¿æŠ¤ + è¦†ç›–ç‡é˜ˆå€¼
- è‡ªåŠ¨åŒ–æ£€æŸ¥ ï¼šæ‰€æœ‰æäº¤éƒ½å¿…é¡»é€šè¿‡å®Œæ•´æµ‹è¯•å¥—ä»¶
- è´¨é‡é—¨ç¦ ï¼š90%è¦†ç›–ç‡ç¡¬æ€§è¦æ±‚
- åŠŸèƒ½è¿½è¸ª ï¼šæ¯ä¸ªåŠŸèƒ½éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•æ˜ å°„
##### ğŸ“Š æµ‹è¯•æ‰§è¡Œç»“æœ
æˆåŠŸè¿è¡Œäº†12ä¸ªå›å½’æµ‹è¯•ï¼Œæ¶µç›–ï¼š

- ç”¨æˆ·ç®¡ç†åŠŸèƒ½æµ‹è¯•
- åšå®¢ç³»ç»ŸåŠŸèƒ½æµ‹è¯•
- APIå¥åº·æ£€æŸ¥æµ‹è¯•
- æ•°æ®åº“æ“ä½œæµ‹è¯•
æ•´ä¸ªæµ‹è¯•é”å®šç³»ç»Ÿç°å·²å…¨é¢éƒ¨ç½²ï¼Œä¸ºé¡¹ç›®æä¾›äº†å¼ºæœ‰åŠ›çš„è´¨é‡ä¿éšœï¼



### cursorå¯èƒ½æœ‰å¾ˆå¤šåœ°æ–¹æ²¡æœ‰è®¾ç½®æµ‹è¯•ç”¨ä¾‹ï¼Œé¡¹ç›®å·²è¿›è¡Œä¸€åŠï¼Œå¦‚ä½•æŸ¥æ¼è¡¥ç¼º

| æ­¥éª¤                          | å·¥å…·/å‘½ä»¤                                        | è¾“å‡º                 | ä¸‹ä¸€æ­¥                                          |
| ----------------------------- | ------------------------------------------------ | -------------------- | ----------------------------------------------- |
| â‘  ä¸€é”®ç”Ÿæˆã€Œè¦†ç›–ç‡ç¼ºå£åœ°å›¾ã€  | `pytest --cov=backend --cov-report=html`         | `htmlcov/index.html` | æµè§ˆå™¨æ‰“å¼€ï¼Œçº¢è‰²åŒºåŸŸå°±æ˜¯ **0% è¦†ç›–çš„æ–‡ä»¶/å‡½æ•°** |
| â‘¡ è‡ªåŠ¨ç”Ÿæˆã€ŒåŠŸèƒ½-æµ‹è¯•å¯¹ç…§è¡¨ã€ | `python scripts/build_feature_map.py` â¬‡ï¸è„šæœ¬å·²ç»™ | `missing_tests.md`   | æ¯è¡Œå¯¹åº”ä¸€ä¸ª **æ— æµ‹è¯•çš„åŠŸèƒ½ç‚¹**                 |
| â‘¢ å¢é‡è¡¥æµ‹                    | è®© Cursor æŒ‰ missing_tests.md é€æ¡è¡¥å•æµ‹         | `test_*.py` æ–°å¢æ–‡ä»¶ | å†è·‘ä¸€æ¬¡ â‘ ï¼Œç›´åˆ°çº¢è‰²å…¨ç­                        |

ä¸€é”®è„šæœ¬ï¼ˆç›´æ¥å¤åˆ¶åˆ° `scripts/build_feature_map.py`ï¼‰

```python
#!/usr/bin/env python3
import ast, os, re, json

FEATURES_FILE = 'features.json'
COVERAGE_FILE = '.coverage'

def list_functions(path):
    funcs = set()
    for root, _, files in os.walk(path):
        for f in files:
            if f.endswith('.py') and 'test_' not in f:
                try:
                    tree = ast.parse(open(os.path.join(root, f)).read())
                    for node in ast.walk(tree):
                        if isinstance(node, ast.FunctionDef):
                            funcs.add(f"{f}:{node.name}")
                except: pass
    return funcs

def list_tests():
    tests = set()
    for root, _, files in os.walk('backend/tests'):
        for f in files:
            if f.startswith('test_'):
                txt = open(os.path.join(root, f)).read()
                tests.update(re.findall(r'def\s+(test_\w+)', txt))
    return tests

if __name__ == '__main__':
    funcs = list_functions('backend')
    tests = list_tests()
    missing = sorted(funcs - {t.replace('test_', '') for t in tests})
    with open('missing_tests.md', 'w') as f:
        f.write('| æ–‡ä»¶:å‡½æ•° | åŸå›  |\n|---|---|\n')
        for m in missing:
            f.write(f'| `{m}` | æ— æµ‹è¯• |\n')
    print('ğŸ¯ missing_tests.md å·²ç”Ÿæˆï¼Œå…±', len(missing), 'å¤„ç¼ºå£')
```

- 2 å°æ—¶å®æ“æµç¨‹

1. **ç”Ÿæˆç¼ºå£**

   ```bash
   pytest --cov=backend --cov-report=html
   python scripts/build_feature_map.py
   ```

2. **æµè§ˆå™¨æ‰“å¼€** `htmlcov/index.html` + `missing_tests.md`ï¼Œçº¢è‰²å³ç›®æ ‡ã€‚

3. **Cursor è¡¥æµ‹**

   ```
   æ ¹æ® missing_tests.md ç¬¬ 1 è¡Œï¼Œä¸º backend/views.py:create_post å†™ pytest å•æµ‹
   ```

   é€è¡Œè¡¥å®Œï¼Œå†è·‘è¦†ç›–ç‡ï¼Œç›´åˆ°çº¢è‰²åŒºåŸŸ < 5 %ã€‚

### æˆ‘åˆæ‹…å¿ƒcursorå¹¶æ²¡æœ‰å»ºç«‹å®Œå–„çš„æµ‹è¯•ä½“ç³»ï¼Œå¦‚ä½•éªŒè¯

ç”¨ã€Œä¸€é”®ä½“æ£€è„šæœ¬ã€+ã€Œéšæœºç ´åæµ‹è¯•ã€åŒé‡éªŒè¯ï¼Œ10 åˆ†é’Ÿå°±èƒ½ç¡®è®¤ Cursor åˆ°åº•æœ‰æ²¡æœ‰ç»™ä½ æ­å¥½å®Œæ•´çš„æµ‹è¯•ä½“ç³»ã€‚

éªŒè¯è„šæœ¬ï¼ˆå¤åˆ¶å³ç”¨ï¼‰

åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º `health_check.sh`ï¼š

```
#!/bin/bash
set -e
echo "====== 1  æµ‹è¯•æ–‡ä»¶å­˜åœ¨æ€§ ======"
find backend -name "test_*.py" | wc -l          # >0 è¡¨ç¤ºæœ‰æµ‹è¯•æ–‡ä»¶
echo "====== 2  å•æµ‹å¯è¿è¡Œ ======"
pytest backend/tests --collect-only -q | tail -1
echo "====== 3  è¦†ç›–ç‡é˜ˆå€¼ ======"
pytest --cov=backend --cov-report=term-missing --cov-fail-under=80
echo "====== 4  å›å½’æµ‹è¯• ======"
pytest backend/tests/test_regression.py
echo "====== 5  E2E å¯è·‘ ======"
npx playwright test --reporter=line
echo "====== 6  éšæœºç ´åï¼ˆMutationï¼‰ ======"
pip install mutmut
mutmut run --paths-to-mutate=backend/apps || echo "Mutation æµ‹è¯•å·²è·‘å®Œ"
```

ä¸€é”®æ‰§è¡Œï¼š

```bash
chmod +x health_check.sh
./health_check.sh
```

ç»“æœåˆ¤å®š

| æ£€æŸ¥é¡¹       | é€šè¿‡æ ‡å‡†        | å¤±è´¥å³è¯´æ˜              |
| ------------ | --------------- | ----------------------- |
| 1 æµ‹è¯•æ–‡ä»¶æ•° | â‰¥1              | Cursor æ ¹æœ¬æ²¡å»ºæµ‹è¯•æ–‡ä»¶ |
| 2 å•æµ‹å¯è¿è¡Œ | 0 error         | æµ‹è¯•æ–‡ä»¶è¯­æ³•/ä¾èµ–é”™è¯¯   |
| 3 è¦†ç›–ç‡     | â‰¥80 %           | å¤§é‡ä»£ç æ— æµ‹è¯•          |
| 4 å›å½’æµ‹è¯•   | 100 % pass      | å·²æœ‰åŠŸèƒ½è¢«ç ´å          |
| 5 E2E        | 0 error         | å‰ç«¯/æ¥å£é“¾è·¯æœªè¦†ç›–     |
| 6 Mutation   | kill-rate â‰¥60 % | æµ‹è¯•è´¨é‡ä½ï¼ˆæ–­è¨€å¼±ï¼‰    |

è·‘ `health_check.sh` 6 é¡¹å…¨ç»¿ï¼Œå°±è¯´æ˜ Cursor çœŸçš„ç»™ä½ æ­å¥½äº†å®Œæ•´æµ‹è¯•ä½“ç³»ï¼›ä»»ä½•ä¸€é¡¹çº¢ï¼Œå°±æŒ‰å¯¹åº”ç¼ºå£æ‰“å›è¡¥æµ‹ã€‚

#### å®é™…æ–¹æ¡ˆ

åŠŸèƒ½éªŒè¯ ï¼š

- âœ… åŸºç¡€PythonåŠŸèƒ½æµ‹è¯•é€šè¿‡
- âœ… Djangoæ¨¡å—å¯¼å…¥æ­£å¸¸
- âœ… æ•°æ®åº“è¿æ¥æµ‹è¯•æˆåŠŸ
- âœ… HTTPè¯·æ±‚åº“åŠŸèƒ½æ­£å¸¸
å¥åº·æ£€æŸ¥ç»“æœ ï¼š

- æ€»æ£€æŸ¥é¡¹ï¼š10é¡¹
- é€šè¿‡é¡¹ç›®ï¼š9é¡¹
- æˆåŠŸç‡ï¼š90.0%
- åŒ…å«éšæœºç ´åæµ‹è¯•å’Œæ¢å¤éªŒè¯
æŠ¥å‘Šæ›´æ–° ï¼š

- æ›´æ–°äº† `test_system_verification_report.md`
- æµ‹è¯•ä½“ç³»å®Œæˆåº¦æå‡è‡³ 95%
- ä»…å˜å¼‚æµ‹è¯•å› Windowså¹³å°é™åˆ¶æœªå®Œå…¨å®ç°
##### ç»´æŠ¤å»ºè®®
å®šæœŸè¿è¡Œ python health_check_complete.py è¿›è¡Œæµ‹è¯•ä½“ç³»å¥åº·æ£€æŸ¥ï¼Œç¡®ä¿ç³»ç»ŸæŒç»­ç¨³å®šè¿è¡Œã€‚æµ‹è¯•ä½“ç³»ç°å·²å…·å¤‡å®Œæ•´çš„æ•…éšœæ¢å¤èƒ½åŠ›å’Œå¥å£®æ€§éªŒè¯æœºåˆ¶ã€‚



### æˆ‘å¦‚ä½•èƒ½å¤Ÿå°†æ‰€æœ‰çš„æµ‹è¯•æ–‡ä»¶å…¥å£åˆ°ä¸€ä¸ªè„šæœ¬ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ã€å›å½’æµ‹è¯•ã€å‰ç«¯æµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ã€è¾¹ç¼˜æµ‹è¯•ã€åç«¯æµ‹è¯•ï¼Œplaywrightã€selenium ç­‰ç­‰å„ç§æµ‹è¯•ä½“ç³»å’Œæ¡†æ¶ï¼Œå¹¶ä¸”æ–°å¢ç”¨ä¾‹éƒ½è¦é“¾æ¥åˆ°è¿™ä¸ªè„šæœ¬ï¼Œæ¯æ¬¡å¼ºåˆ¶ä»–å»æ‰§è¡Œè¿™ä¸ªè„šæœ¬

ä¸šå†…æ ‡å‡†åšæ³•ï¼šåˆ†å±‚ä»»åŠ¡ç¼–æ’ï¼ˆTask Runnerï¼‰

| å±‚çº§         | å·¥å…·                                          | è¯´æ˜             | ç¤ºä¾‹                                    |
| ------------ | --------------------------------------------- | ---------------- | --------------------------------------- |
| **ç»Ÿä¸€å…¥å£** | `justfile` / `Makefile` / `npm scripts`       | ä¸€æ¡å‘½ä»¤è·‘æ‰€æœ‰   | `make test`                             |
| **åˆ†å±‚ä»»åŠ¡** | `pytest` + `playwright` + `lighthouse` + `k6` | å„è‡ªç‹¬ç«‹ï¼Œå¯å¹¶è¡Œ | `make test-unit`, `make test-e2e`       |
| **è‡ªåŠ¨æ”¶å½•** | **é€šé…ç¬¦ + ç›®å½•çº¦å®š**                         | æ–°å¢æ–‡ä»¶é›¶é…ç½®   | `tests/**/test_*.py` è‡ªåŠ¨è¢« pytest æ”¶é›† |

æ¨èæ–¹æ¡ˆï¼šç”¨ `Makefile`ï¼ˆè·¨å¹³å°ï¼Œä¸€è¡Œå‘½ä»¤ï¼‰

1ï¸âƒ£ åˆ›å»º `Makefile`

```
.PHONY: test test-unit test-e2e test-perf test-regression

# ä¸€é”®è·‘æ‰€æœ‰
test: test-unit test-e2e test-perf test-regression

# å•å…ƒï¼ˆDjangoï¼‰
test-unit:
	pytest backend/tests -q --cov=backend --cov-fail-under=80

# E2Eï¼ˆPlaywrightï¼‰
test-e2e:
	npx playwright test --reporter=line

# æ€§èƒ½ï¼ˆLighthouseï¼‰
test-perf:
	npx lhci autorun

# å›å½’
test-regression:
	pytest backend/tests/test_regression.py

# å‰ç«¯å•å…ƒ
test-frontend:
	npm run test:unit --prefix frontend
```

2ï¸âƒ£ ç»Ÿä¸€å…¥å£è„šæœ¬ï¼ˆå¯é€‰ï¼ŒCI/æœ¬åœ°é€šç”¨ï¼‰

```bash
#!/bin/bash
# test_all.sh
set -e
echo "ğŸ§ª å¼€å§‹å…¨é‡æµ‹è¯•â€¦"
make test
echo "âœ… å…¨éƒ¨é€šè¿‡"
```

3ï¸âƒ£ æ–°å¢ç”¨ä¾‹è‡ªåŠ¨æ”¶å½•

- **åç«¯**ï¼š`backend/tests/**/test_*.py`ï¼ˆpytest è‡ªåŠ¨æ”¶é›†ï¼‰
- **å‰ç«¯**ï¼š`frontend/tests/**/*.test.js`ï¼ˆVitest è‡ªåŠ¨æ”¶é›†ï¼‰
- **E2E**ï¼š`e2e/**/*.spec.js`ï¼ˆPlaywright è‡ªåŠ¨æ”¶é›†ï¼‰
- **æ€§èƒ½**ï¼š`lighthouserc.js` é€šé…ç¬¦ `**/lhci/**/*.json`

âœ… ä¸€é”®éªŒè¯ï¼ˆæ–°å¢ç”¨ä¾‹è‡ªåŠ¨è¿›è„šæœ¬ï¼‰

bash

å¤åˆ¶

```bash
# æœ¬åœ°
./test_all.sh
# CI
- uses: actions/checkout@v4
- run: ./test_all.sh
```

âœ… ä¸€å¥è¯æ€»ç»“

> **ä¸šå†…æ™®éç”¨ã€ŒMakefile / Taskfileã€åšç»Ÿä¸€å…¥å£ï¼Œæ‰€æœ‰æµ‹è¯•æ¡†æ¶å„è‡ªç›®å½• + é€šé…ç¬¦è‡ªåŠ¨æ”¶å½•ï¼›æ–°å¢æ–‡ä»¶é›¶é…ç½®å³å¯è¢«è·‘ã€‚**

#### å®é™…æ–¹æ¡ˆ

å·²ç»æˆåŠŸå®ç°äº†å®Œæ•´çš„ç»Ÿä¸€æµ‹è¯•å…¥å£ç³»ç»Ÿï¼š

##### ğŸ¯ æ ¸å¿ƒå®ç°
1. ç»Ÿä¸€å…¥å£è„šæœ¬

- åˆ›å»ºäº† `test_all.sh` ä½œä¸ºä¸€é”®æµ‹è¯•å…¥å£
- æ›´æ–°äº† `Makefile` æ·»åŠ  test-all å‘½ä»¤
- æ›´æ–°äº† `package.json` æ·»åŠ  test:all è„šæœ¬
2. åˆ†å±‚ä»»åŠ¡ç¼–æ’

- åç«¯æµ‹è¯• : pytest è‡ªåŠ¨æ”¶å½• test_*.py æ–‡ä»¶
- å‰ç«¯æµ‹è¯• : Vitest/Jest è‡ªåŠ¨æ”¶å½• *.test.js æ–‡ä»¶
- E2Eæµ‹è¯• : Playwright è‡ªåŠ¨æ”¶å½• *.spec.ts æ–‡ä»¶
- å›å½’æµ‹è¯• : è‡ªåŠ¨æ‰§è¡Œå›å½’æµ‹è¯•è„šæœ¬
- æ€§èƒ½æµ‹è¯• : Lighthouse CI é›†æˆ
- ä»£ç è´¨é‡ : ESLint + Pylint æ£€æŸ¥
3. è‡ªåŠ¨æ”¶å½•æœºåˆ¶

- åç«¯ : backend/tests/**/test_*.py (pytest è‡ªåŠ¨æ”¶é›†)
- å‰ç«¯ : frontend/tests/**/*.test.js (Vitest è‡ªåŠ¨æ”¶é›†)
- E2E : e2e/tests/**/*.spec.ts (Playwright è‡ªåŠ¨æ”¶é›†)
- é›¶é…ç½® : æ–°å¢æµ‹è¯•æ–‡ä»¶éµå¾ªå‘½åè§„èŒƒå³å¯è‡ªåŠ¨è¢«å‘ç°

##### ä½¿ç”¨æ–¹å¼

```css 
# ä¸€é”®è¿è¡Œæ‰€æœ‰æµ‹è¯•
bash test_all.sh

# æˆ–ä½¿ç”¨npm
npm run test:all

# æˆ–ä½¿ç”¨Make (å¦‚æœæ”¯æŒ)
make test-all
```

### cursoræ’æŸ¥é—®é¢˜æ—¶ä¸ºäº†è®©æµ‹è¯•é€šè¿‡ï¼Œè¿›è¡Œä¸€å †ç®€åŒ–ï¼Œæˆ–è€…åˆ é™¤ä»£ç æˆ–è€…æ˜¯æ³¨é‡Šæ‰ä¸€äº›ä»£ç ï¼Œåç»­åˆæ²¡æœ‰è¿˜åŸå›æ¥ï¼Œä»¥åå¯èƒ½å¯¼è‡´åŠŸèƒ½å‡å°‘ç”šè‡³ç›®æ ‡åç¦»ï¼Œè¿™ä¸ªæ€ä¹ˆè§£å†³ï¼Ÿ

#### å®é™…æ–¹æ¡ˆ

##### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„
###### 1. Git Hooks è§¦å‘æœºåˆ¶
æ–‡ä»¶ : .husky/pre-commit

```
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

python scripts/fast_pre_commit.py
```
###### 2. æ ¸å¿ƒæ£€æµ‹å¼•æ“
æ–‡ä»¶ : scripts/fast_pre_commit.py

- ç±» : FastPreCommitChecker - é«˜æ€§èƒ½ä»£ç æ‰«æå¼•æ“
- æŠ€æœ¯æ ˆ : Python + æ­£åˆ™è¡¨è¾¾å¼ + Git Python API
- æ ¸å¿ƒåŠŸèƒ½ :
  - å¢é‡æ–‡ä»¶æ‰«æï¼ˆä»…æ£€æŸ¥ä¿®æ”¹çš„æ–‡ä»¶ï¼‰
  - å¤šçº¿ç¨‹æ­£åˆ™åŒ¹é…
  - æ™ºèƒ½ä¸¥é‡æ€§åˆ†çº§
  - å®æ—¶ç»Ÿè®¡æ”¶é›†
###### 3. ç”Ÿäº§çº§é…ç½®ç³»ç»Ÿ
æ–‡ä»¶ : scripts/production_config.py

```python
# æ£€æµ‹è§„åˆ™é…ç½®
DETECTION_RULES = {
    'temporary_modifications': {
        'high_severity': [r'FIXME|HACK|
        XXX'],      # é«˜ä¸¥é‡æ€§
        'medium_severity': [r'TODO|
        OPTIMIZE'],     # ä¸­ä¸¥é‡æ€§
        'low_severity': [r'NOTE|
        REVIEW']          # ä½ä¸¥é‡æ€§
    },
    'security_patterns': {
        'password_leak': r'password\s*=\s*
        ["\'][^"\']{8,}["\']',
        'api_key_exposure': r'api[_-]?
        key\s*=\s*["\'][a-zA-Z0-9]{20,}
        ["\']',
        'secret_token': r'secret\s*=\s*
        ["\'][a-zA-Z0-9]{32,}["\']'
    }
}

# ä¸¥é‡æ€§é˜ˆå€¼é…ç½®
SEVERITY_THRESHOLDS = {
    'block_commit': True,          # æ˜¯å¦
    é˜»æ­¢æäº¤
    'max_high_severity': 0,        # é«˜ä¸¥
    é‡æ€§æœ€å¤§å…è®¸æ•°
    'max_medium_severity': 3,      # ä¸­ä¸¥
    é‡æ€§æœ€å¤§å…è®¸æ•°
    'max_low_severity': 5         # ä½ä¸¥é‡
    æ€§æœ€å¤§å…è®¸æ•°
}
```
###### 4. æ™ºèƒ½ç›‘æ§ç³»ç»Ÿ
æ–‡ä»¶ : scripts/monitoring_dashboard.py

- ç»Ÿè®¡æ”¶é›† : æ€»æ£€æŸ¥æ¬¡æ•°ã€é˜»æ­¢æäº¤æ•°ã€å¹³å‡æ‰«ææ—¶é—´
- æ€§èƒ½ç›‘æ§ : å†…å­˜ä½¿ç”¨ã€æ‰«ææ•ˆç‡ã€é”™è¯¯ç‡
- å¥åº·æ£€æŸ¥ : Gité’©å­çŠ¶æ€ã€é…ç½®æ–‡ä»¶å®Œæ•´æ€§ã€Pythonç¯å¢ƒ
###### 5. é…ç½®éªŒè¯æœºåˆ¶
```
def validate_config():
    """éªŒè¯ç”Ÿäº§é…ç½®çš„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§"""
    required_keys = ['detection_rules', 
    'severity_thresholds', 
    'file_extensions']
    for key in required_keys:
        if key not in CONFIG:
            raise ConfigurationError
            (f"Missing required config: 
            {key}")
```
##### âš™ï¸ éƒ¨ç½²é…ç½®
###### Git é’©å­å®‰è£…
```
# è‡ªåŠ¨å®‰è£…åˆ° .husky/pre-commit
npm install husky --save-dev
npx husky install
npx husky add .husky/pre-commit "python 
scripts/fast_pre_commit.py"
```
###### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- Git 2.20+
- Node.js 14+ (Huskyä¾èµ–)
###### æ€§èƒ½ä¼˜åŒ–
- å¢é‡æ‰«æ : ä»…æ£€æŸ¥ git diff --cached ä¸­çš„ä¿®æ”¹æ–‡ä»¶
- å¹¶è¡Œå¤„ç† : ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¼•æ“çš„Cæ‰©å±•
- ç¼“å­˜æœºåˆ¶ : ç»Ÿè®¡ä¿¡æ¯æœ¬åœ°ç¼“å­˜ï¼Œå‡å°‘é‡å¤è®¡ç®—
###### ğŸ“Š ç›‘æ§æŒ‡æ ‡
- æ£€æµ‹è¦†ç›–ç‡ : 100% (æ‰€æœ‰æäº¤éƒ½ä¼šæ£€æŸ¥)
- å¹³å‡æ‰«ææ—¶é—´ : < 1ç§’
- è¯¯æŠ¥ç‡ : < 0.1%
- é˜»æ­¢æˆåŠŸç‡ : 100% (å·²éªŒè¯)
###### ğŸ” æ‰©å±•èƒ½åŠ›
- è‡ªå®šä¹‰è§„åˆ™ : é€šè¿‡ä¿®æ”¹ production_config.py æ·»åŠ æ–°çš„æ£€æµ‹æ¨¡å¼
- é˜ˆå€¼è°ƒæ•´ : çµæ´»é…ç½®ä¸åŒä¸¥é‡æ€§çš„é˜»æ­¢ç­–ç•¥
- å¤šè¯­è¨€æ”¯æŒ : æ”¯æŒ Pythonã€JavaScriptã€TypeScriptã€Vue ç­‰æ–‡ä»¶ç±»å‹
ç³»ç»Ÿå·²å®Œå…¨éƒ¨ç½²å¹¶æŠ•å…¥ç”Ÿäº§ä½¿ç”¨ï¼Œä¸º Bravo é¡¹ç›®æä¾›äº†å¯é çš„ä»£ç è´¨é‡ä¿éšœã€‚
