# 系统提示 - 项目启动时自动加载

## 重要提醒

每次开始工作前，请**务必**执行以下步骤：

### 1. 强制阅读项目架构

**必须首先阅读**：`docs/01_guideline/目录架构.md`

该文档包含：

- 项目整体架构设计
- 技术栈详细说明
- 目录结构规范
- 开发环境配置指南
- 部署架构说明

### 2. 规则文件检查清单

确认已加载的规则文件：

- [ ] `code_quality.mdc` - 代码质量标准
- [ ] `django_split.mdc` - Django应用架构
- [ ] `test_coverage.mdc` - 测试覆盖率要求
- [ ] `security_scan.mdc` - 安全扫描规则
- [ ] `vue_component.mdc` - Vue组件规范
- [ ] `project_startup.mdc` - 项目启动规范

### 3. 工作前准备流程

1. **打开架构文档**：`docs/01_guideline/目录架构.md`
2. **理解当前任务**：明确工作范围和目标
3. **检查相关规则**：根据任务类型查看对应规则
4. **验证环境**：确保开发环境配置正确

### 4. 任务类型对应规则

- **后端开发**：重点查看 `django_split.mdc` 和 `code_quality.mdc`
- **前端开发**：重点查看 `vue_component.mdc` 和 `code_quality.mdc`
- **测试编写**：重点查看 `test_coverage.mdc`
- **安全相关**：重点查看 `security_scan.mdc`
- **项目初始化**：重点查看 `project_startup.mdc`

### 5. 黄金测试保护约束

**严格禁止修改黄金测试**：

- [ ] `tests-golden/` 目录下的所有文件为**核心测试**，严禁修改
- [ ] 任何对黄金测试的修改都会被Git钩子阻止
- [ ] 如需修改黄金测试，必须通过正式的代码审查流程
- [ ] 黄金测试用于保护核心功能，确保系统稳定性

### 6. 回归锁约束

**【回归锁】- 防止破坏已有功能**：

- [ ] **禁止修改** `backend/tests/test_regression.py` 文件
- [ ] 任何新功能必须追加到 `tests/` 新文件，不得修改回归测试
- [ ] 提交代码前必须先跑 `pytest test_regression.py` 确保100%通过
- [ ] 如回归测试失败，只能修改业务逻辑，不能改测试
- [ ] CI会自动运行回归测试，失败则PR自动❌禁止合并
- [ ] 回归测试是核心功能的最后防线，任何绕过都是严重违规

### 7. 强制执行检查

如果未阅读架构文档就开始工作，请立即：

1. 停止当前操作
2. 阅读 `docs/01_guideline/目录架构.md`
3. 根据任务类型查看相关规则
4. 重新开始工作

**记住：良好的架构理解是成功开发的基础**
