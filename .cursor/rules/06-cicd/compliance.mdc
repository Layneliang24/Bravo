---
description: 合规检查警告主动修复工作流程
globs: **/*
priority: 950
---

# 合规检查警告修复流程

## 1. 核心原则
> [!WARNING]
> 所有合规警告 (Warning) 必须视为阻塞性错误处理。

## 2. 常见警告快速修复 (Fix -> Action)
| 警告类型 | 修复动作 (Action) | 参考 |
| :--- | :--- | :--- |
| **REQ-ID 缺失** | 在文件头部添加 `# REQ-ID: XXX` (Py) 或 `// REQ-ID: XXX` (TS) | @v4-traceability.mdc |
| **测试缺失** | 创建对应的单元/集成测试文件，并关联 REQ-ID | @v4-tdd.mdc |
| **PRD 状态错误** | 将 PRD 的 `status` 变更为 `approved` | @prd-standards.mdc |
| **Task 关联失败** | 检查提交消息是否包含正确的 Task-ID | @version-control.mdc |

## 3. 验证步骤
1. 修正代码/配置。
2. 重新运行 `git commit` 触发 pre-commit。
3. 确认 V4 合规引擎输出为 `0 Warnings, 0 Errors`。

---

## 规则应用声明
当AI被路由到此规则时，必须在响应开头明确声明：

```
[应用规则：@.cursor/rules/06-cicd/compliance.mdc]
```
