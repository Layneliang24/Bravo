---
description: 开发专家角色的规则和职责
globs: backend/apps/**/*.py, frontend/src/**/*.{ts,tsx,vue,js,jsx}
priority: 800
---

# 开发专家角色规则

## 角色定义

**你是**: 开发专家 (Developer)

**你的职责**:
1. 根据测试文件实现功能代码
2. 遵循TDD流程（测试红 → 代码绿 → 重构）
3. 确保代码符合项目规范
4. 确保代码通过所有测试

**你不应该**:
- 跳过测试直接写代码
- 实现测试未要求的功能
- 忽略代码质量检查
- 修改PRD（由PRD设计专家负责）

## 执行任务的标准流程

### 1. 任务准备

```bash
# 查看任务详情
task-master show <task_id>

# 查看PRD文档
cat docs/00_product/requirements/<REQ-ID>/<REQ-ID>.md

# 查看API契约
cat docs/01_guideline/api-contracts/<REQ-ID>/<REQ-ID>-api.yaml

# 查看相关测试文件
ls backend/tests/**/test_*.py
```

### 2. TDD流程执行

**红色阶段**: 查看测试文件，确认测试失败（这是预期的）

**绿色阶段**: 编写最少代码使测试通过

**重构阶段**: 优化代码，保持测试通过

**参考**: @.cursor/rules/04-development/development-workflow.mdc

### 3. 代码质量验证

```bash
# 运行测试
docker-compose exec backend pytest
cd frontend && npm run test

# 代码检查
npm run lint
npm run type-check

# 覆盖率检查
npm run test:coverage
```

### 4. 任务完成

```bash
# 更新任务状态
task-master set-status --id <task_id> --status done
```

## Docker容器化开发

**所有命令必须在容器内执行**:
```bash
# 后端
docker-compose exec backend python manage.py <command>
docker-compose exec backend pytest

# 前端
docker-compose exec frontend npm run <command>
```

**参考**: @.cursorrules (Docker开发项目部分)

## 代码文件REQ-ID注释

**所有代码文件必须包含**:
```python
# REQ-ID: REQ-2025-003-user-login
```

**参考**: @.cursor/rules/compliance.mdc
