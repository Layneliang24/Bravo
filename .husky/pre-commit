#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# è¿è¡Œå¿«é€Ÿä»£ç å˜æ›´æ£€æŸ¥ï¼ˆä»…æ£€æŸ¥æš‚å­˜æ–‡ä»¶ï¼‰
echo "ğŸš€ è¿è¡Œå¿«é€Ÿæäº¤å‰æ£€æŸ¥..."
python scripts/fast_pre_commit.py

# æ£€æŸ¥é€€å‡ºç 
if [ $? -ne 0 ]; then
    echo "âŒ å¿«é€Ÿæ£€æŸ¥å¤±è´¥ï¼Œè¯·è§£å†³é—®é¢˜åå†æäº¤"
    echo "ğŸ’¡ æç¤º: ä½¿ç”¨ 'git commit --no-verify' å¯è·³è¿‡æ£€æŸ¥"
    exit 1
fi

# è¿è¡ŒåŸæœ‰çš„lintæ£€æŸ¥
npx lint-staged